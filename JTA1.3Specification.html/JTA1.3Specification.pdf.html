<!DOCTYPE html><!--[if IE]>  <html class="ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="JTA1.3Specification.pdf_files/style.css" />
	</head>
	<body>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_02.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_02.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">i</span></div>
					<div class="stl_01 stl_11" style="left:12.0867em;top: 10.311em; "><span class="stl_12 stl_09 stl_13" style="word-spacing:0.0001em;">Java™ Transaction API (JTA) &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:20.6367em;top: 13.1619em; z-index:27; "><span class="stl_15 stl_09 stl_16">V</span><span class="stl_15 stl_09 stl_17">e</span><span class="stl_15 stl_09 stl_18" style="word-spacing:0.0057em;">rsion 1.3 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:13.5767em;top: 16.309em; "><span class="stl_08 stl_09 stl_19" style="word-spacing:0.0048em;">Java Transaction API (JTA) specifies high-level interfaces &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:13.3366em;top: 17.469em; "><span class="stl_08 stl_09 stl_21" style="word-spacing:-0.0013em;">between a transaction manager and the parties involved in a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:12.3866em;top: 18.639em; "><span class="stl_08 stl_09 stl_23" style="word-spacing:0.0021em;">distributed transaction system: the application, resource manager, &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:19.5366em;top: 19.809em; z-index:218; "><span class="stl_08 stl_09 stl_24" style="word-spacing:-0.0013em;">and application server. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:17.1867em;top: 24.4139em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0031em;">Maintenance Lead: Stephen Felts &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:11.9767em;top: 27.9139em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0037em;">Please send technical comments to jta-spec@javaee.groups.io &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:20.0667em;top: 37.7739em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:-0.0042em;">Final Release &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.0766em;top: 2.609em; "><span class="stl_08 stl_09 stl_30">ii &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">iii &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 5.5675em; "><span class="stl_32 stl_33 stl_34" style="word-spacing:0.0064em;">Specification: JSR-907 Java Transaction API ("Specification") &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 6.8475em; "><span class="stl_32 stl_33 stl_35" style="word-spacing:0.0235em;">Version: 1.3 &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 8.1275em; "><span class="stl_32 stl_33 stl_36" style="word-spacing:0.0076em;">Status: Maintenance Release &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 9.4175em; "><span class="stl_32 stl_33 stl_37" style="word-spacing:0.004em;">Specification Lead: Oracle America, Inc. ("Specification Lead") &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 10.6975em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.005em;">Release: March 2018 &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 11.9875em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.0053em;">Copyright 2018 Oracle America, Inc. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 13.2675em; "><span class="stl_32 stl_33 stl_34" style="word-spacing:0.0028em;">All rights reserved. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 14.5575em; "><span class="stl_32 stl_33 stl_40" style="word-spacing:-0.0029em;">LIMITED LICENSE GRANTS &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 15.8375em; "><span class="stl_32 stl_33 stl_24" style="word-spacing:0.0056em;">1. License for Evaluation Purposes. Specification Lead hereby grants you a fully- &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 17.1275em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.0013em;">paid, non-exclusive, nontransferable,worldwide, limited license (without the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 18.4075em; "><span class="stl_32 stl_33 stl_18" style="word-spacing:0.0017em;">right to sublicense), under Specification Lead's applicable intellectual property &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 19.6975em; "><span class="stl_32 stl_33 stl_41" style="word-spacing:0.0068em;">rights to view, download, use and reproduce the Specification only for the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 20.9775em; "><span class="stl_32 stl_33 stl_42" style="word-spacing:-0.0104em;">purpose of internal evaluation. This includes (i) developing applications intended &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 22.2675em; "><span class="stl_32 stl_33 stl_43" style="word-spacing:-0.0294em;">to run on an implementation of the Specification, provided that such applications &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 23.5475em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:0.0007em;">do not themselves implement any portion(s) of the Specification, and (ii) &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 24.8275em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.0048em;">discussing the Specification with any third party; and (iii) excerpting brief &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 26.1175em; "><span class="stl_32 stl_33 stl_18" style="word-spacing:0.0006em;">portions of the Specification in oral or written communications which discuss the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 27.3975em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0054em;">Specification provided that such excerpts do not in the aggregate constitute a &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 28.6875em; "><span class="stl_32 stl_33 stl_21" style="word-spacing:-0.005em;">significant portion of the Specification. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 29.9675em; "><span class="stl_32 stl_33 stl_45" style="word-spacing:0.0004em;">2. License for the Distribution of Compliant Implementations. Specification Lead &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 31.2575em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0026em;">also grants you a perpetual, non-exclusive, non-transferable, worldwide, fully &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 32.5375em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:0.0039em;">paid-up, royalty free, limited license (without the right to sublicense) under any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 33.8275em; "><span class="stl_32 stl_33 stl_47" style="word-spacing:0.0103em;">applicable copyrights or, subject to the provisions of subsection 4 below, patent &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 35.1075em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0053em;">rights it may have covering the Specification to create and/or distribute an &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 36.3975em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:0.0019em;">Independent Implementation of the Specification that: (a) fully implements the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 37.6775em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0077em;">Specification including all its required interfaces and functionality; (b) does not &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 38.9575em; "><span class="stl_32 stl_33 stl_23" style="word-spacing:0.0027em;">modify, subset, superset or otherwise extend the Licensor Name Space, or &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 40.2475em; "><span class="stl_32 stl_33 stl_48" style="word-spacing:0.0075em;">include any public or protected packages, classes, Java interfaces, fields or &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 41.5275em; "><span class="stl_32 stl_33 stl_49" style="word-spacing:0.0031em;">methods within the Licensor Name Space other than those required/authorized &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 42.8175em; "><span class="stl_32 stl_33 stl_37" style="word-spacing:0.0062em;">by the Specification or Specifications being implemented; and (c) passes the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 44.0975em; "><span class="stl_32 stl_33 stl_50">T</span><span class="stl_32 stl_33 stl_51">e</span><span class="stl_32 stl_33 stl_52" style="word-spacing:0.0049em;">chnology Compatibility Kit (including satisfying the requirements of the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 45.3875em; "><span class="stl_32 stl_33 stl_53" style="word-spacing:0.0035em;">applicable TCK Users Guide) for such Specification ("Compliant &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 46.6675em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:0.0031em;">Implementation"). In addition, the foregoing license is expressly conditioned on &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 47.9575em; "><span class="stl_32 stl_33 stl_54" style="word-spacing:0.0052em;">your not acting outside its scope. No license is granted hereunder for any other &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.8966em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">iv &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 5.4375em; "><span class="stl_32 stl_33 stl_55" style="word-spacing:0.0017em;">purpose (including, for example, modifying the Specification, other than to the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 6.7275em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0056em;">extent of your fair use rights, or distributing the Specification to third parties). &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 8.0075em; "><span class="stl_32 stl_33 stl_56" style="word-spacing:0.0058em;">Also, no right, title, or interest in or to any trademarks, service marks, or trade &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 9.2875em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0056em;">names of Specification Lead or Specification Lead's licensors is granted &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 10.5775em; z-index:285; "><span class="stl_32 stl_33 stl_57">hereunde</span><span class="stl_32 stl_33 stl_58">r</span><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0045em;">. </span><span class="stl_32 stl_33 stl_59">J</span><span class="stl_32 stl_33 stl_60" style="word-spacing:0.0102em;">ava, and Java-related logos, marks and names are trademarks or &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 11.8575em; "><span class="stl_32 stl_33 stl_34" style="word-spacing:0.0052em;">registered trademarks of Oracle America, Inc. in the U.S. and other countries. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 14.4275em; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0038em;">3. Pass-through Conditions. You need not include limitations (a)-(c) from the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 15.7175em; "><span class="stl_32 stl_33 stl_36" style="word-spacing:0.0042em;">previous paragraph or any other particular "pass through" requirements in any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 16.9975em; "><span class="stl_32 stl_33 stl_37" style="word-spacing:0.0023em;">license You grant concerning the use of your Independent Implementation or &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 18.2875em; "><span class="stl_32 stl_33 stl_62" style="word-spacing:0.0127em;">products derived from it. However, except with respect to Independent &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 19.5675em; "><span class="stl_32 stl_33 stl_49" style="word-spacing:-0.0237em;">Implementations (and products derived from them) that satisfy limitations (a)-(c) &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 20.8575em; "><span class="stl_32 stl_33 stl_63" style="word-spacing:0.0097em;">from the previous paragraph, You may neither: (a) grant or otherwise pass &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 22.1375em; "><span class="stl_32 stl_33 stl_37" style="word-spacing:0.004em;">through to your licensees any licenses under Specification Lead's applicable &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 23.4175em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0051em;">intellectual property rights; nor (b) authorize your licensees to make any claims &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 24.7075em; "><span class="stl_32 stl_33 stl_55" style="word-spacing:-0.0131em;">concerning their implementation's compliance with the Specification in question. &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 25.9875em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0071em;">4. Reciprocity Concerning Patent Licenses. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 27.2775em; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0029em;">a. With respect to any patent claims covered by the license granted under &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 28.5575em; "><span class="stl_32 stl_33 stl_59" style="word-spacing:0.0046em;">subparagraph 2 above that would be infringed by all technically feasible &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 29.8475em; "><span class="stl_32 stl_33 stl_64" style="word-spacing:0.0022em;">implementations of the Specification, such license is conditioned upon your &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 31.1275em; "><span class="stl_32 stl_33 stl_65" style="word-spacing:0.0033em;">offering on fair, reasonable and non-discriminatory terms, to any party seeking it &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 32.4175em; "><span class="stl_32 stl_33 stl_24" style="word-spacing:0.0057em;">from You, a perpetual, non-exclusive, non-transferable, worldwide license under &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 33.6975em; "><span class="stl_32 stl_33 stl_66">Y</span><span class="stl_32 stl_33 stl_67">o</span><span class="stl_32 stl_33 stl_53" style="word-spacing:0.0019em;">ur patent rights which are or would be infringed by all technically feasible &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 34.9875em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:0.0008em;">implementations of the Specification to develop, distribute and use a Compliant &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 36.2675em; "><span class="stl_32 stl_33 stl_42">Implementation. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 37.5575em; "><span class="stl_32 stl_33 stl_19" style="word-spacing:0.0078em;">b With respect to any patent claims owned by Specification Lead and covered by &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 38.8375em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:-0.0181em;">the license granted under subparagraph 2, whether or not their infringement can &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 40.1175em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:-0.0006em;">be avoided in a technically feasible manner when implementing the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 41.4075em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0045em;">Specification, such license shall terminate with respect to such claims if You &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 42.6875em; "><span class="stl_32 stl_33 stl_36" style="word-spacing:0.0072em;">initiate a claim against Specification Lead that it has, in the course of performing &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 43.9775em; "><span class="stl_32 stl_33 stl_68" style="word-spacing:0.0034em;">its responsibilities as the Specification Lead, induced any other entity to infringe &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 45.2575em; "><span class="stl_32 stl_33 stl_66">Y</span><span class="stl_32 stl_33 stl_67">o</span><span class="stl_32 stl_33 stl_69" style="word-spacing:0.0068em;">ur patent rights. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 46.5475em; "><span class="stl_32 stl_33 stl_70" style="word-spacing:-0.0226em;">c Also with respect to any patent claims owned by Specification Lead and covered &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 47.8275em; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0057em;">by the license granted under subparagraph 2 above, where the infringement of &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">v</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 5.5675em; "><span class="stl_32 stl_33 stl_49" style="word-spacing:0.0021em;">such claims can be avoided in a technically feasible manner when implementing &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 6.8475em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0054em;">the Specification such license, with respect to such claims, shall terminate if You &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 8.1275em; "><span class="stl_32 stl_33 stl_43" style="word-spacing:0.0021em;">initiate a claim against Specification Lead that its making, having made, using, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 9.4175em; "><span class="stl_32 stl_33 stl_59" style="word-spacing:0.0055em;">offering to sell, selling or importing a Compliant Implementation infringes Your &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 10.6975em; "><span class="stl_32 stl_33 stl_71" style="word-spacing:0.0156em;">patent rights. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 11.9875em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:0.0018em;">5. Definitions. For the purposes of this Agreement: "Independent &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 13.2675em; "><span class="stl_32 stl_33 stl_42" style="word-spacing:-0.0018em;">Implementation" shall mean an implementation of the Specification that neither &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 14.5575em; z-index:485; "><span class="stl_32 stl_33 stl_72" style="word-spacing:-0.0225em;">derives from any of Specification Lead's source code or binary code materials nor, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 15.8375em; "><span class="stl_32 stl_33 stl_34" style="word-spacing:-0.0329em;">except with an appropriate and separate license from Specification Lead, includes &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 17.1275em; "><span class="stl_32 stl_33 stl_42" style="word-spacing:-0.0138em;">any of Specification Lead's source code or binary code materials; "Licensor Name &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 18.4075em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:0.0055em;">Space" shall,mean the public class or interface declarations whose names begin &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 19.6975em; "><span class="stl_32 stl_33 stl_73" style="word-spacing:0.0104em;">with "java", "javax", "com.oracle”, “com.sun” or their equivalents in any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 20.9775em; "><span class="stl_32 stl_33 stl_19" style="word-spacing:-0.0171em;">subsequent naming convention adopted by Oracle America, Inc. through the Java &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 22.2675em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.0018em;">Community Process, or any recognized successors or replacements thereof; and &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 23.5475em; "><span class="stl_32 stl_33 stl_53" style="word-spacing:0.0032em;">"Technology Compatibility Kit" or "TCK" shall mean the test suite and &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 24.8275em; "><span class="stl_32 stl_33 stl_34" style="word-spacing:0.0066em;">accompanying TCK User's Guide provided by Specification Lead which &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 26.1175em; "><span class="stl_32 stl_33 stl_53" style="word-spacing:0.0042em;">corresponds to the Specification and that was available either (i) from &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 27.3975em; "><span class="stl_32 stl_33 stl_74" style="word-spacing:0.0118em;">Specification Lead 120 days before the first release of Your Independent &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 28.6875em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:-0.0243em;">Implementation that allows its use for commercial purposes, or (ii) more recently &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 29.9675em; "><span class="stl_32 stl_33 stl_75" style="word-spacing:0.0115em;">than 120 days from such release but against which You elect to test Your &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 31.2575em; "><span class="stl_32 stl_33 stl_43" style="word-spacing:0.0008em;">implementation of the Specification. This Agreement will terminate immediately &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 32.5375em; "><span class="stl_32 stl_33 stl_54" style="word-spacing:0.0076em;">without notice from Specification Lead if you breach the Agreement or act &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 33.8275em; "><span class="stl_32 stl_33 stl_56" style="word-spacing:0.0088em;">outside the scope of the licenses granted above. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 36.3975em; "><span class="stl_32 stl_33 stl_76" style="word-spacing:0.0016em;">DISCLAIMER OF WARRANTIES &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 37.6775em; "><span class="stl_32 stl_33 stl_65" style="word-spacing:0.0056em;">THE SPECIFICATION IS PROVIDED "AS IS". SPECIFICATION LEAD MAKES NO &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 38.9575em; "><span class="stl_32 stl_33 stl_63" style="word-spacing:0.0076em;">REPRESENTATIONS OR WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 40.2475em; z-index:1616; "><span class="stl_32 stl_33 stl_77" style="word-spacing:0.0085em;">BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILIT</span><span class="stl_32 stl_33 stl_78">Y</span><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0051em;">, </span><span class="stl_32 stl_33 stl_49">F</span><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0087em;">ITNESS FOR A &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 41.5275em; "><span class="stl_32 stl_33 stl_64" style="word-spacing:0.0017em;">PARTICULAR PURPOSE, NON-INFRINGEMENT (INCLUDING AS A CONSEQUENCE &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 42.8175em; "><span class="stl_32 stl_33 stl_79" style="word-spacing:0.0112em;">OF ANY PRACTICE OR IMPLEMENTATION OF THE SPECIFICATION), OR THAT THE &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 44.0975em; "><span class="stl_32 stl_33 stl_65" style="word-spacing:0.0091em;">CONTENTS OF THE SPECIFICATION ARE SUITABLE FOR ANY PURPOSE. This &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 45.3875em; "><span class="stl_32 stl_33 stl_59" style="word-spacing:0.0054em;">document does not represent any commitment to release or implement any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 46.6675em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:0.005em;">portion of the Specification in any product. In addition, the Specification could &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 47.9575em; "><span class="stl_32 stl_33 stl_53" style="word-spacing:0.005em;">include technical inaccuracies or typographical errors. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.8966em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">vi &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 6.7275em; "><span class="stl_32 stl_33 stl_81" style="word-spacing:0.0134em;">LIMITATION OF LIABILITY &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 8.0075em; z-index:53; "><span class="stl_32 stl_33 stl_47" style="word-spacing:0.0085em;">TO THE EXTENT NOT PROHIBITED BY LA</span><span class="stl_32 stl_33 stl_82">W</span><span class="stl_32 stl_33 stl_10" style="word-spacing:-0.0016em;">, </span><span class="stl_32 stl_33 stl_68">I</span><span class="stl_32 stl_33 stl_83" style="word-spacing:0.0128em;">N NO EVENT WILL SPECIFICATION &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 9.2875em; "><span class="stl_32 stl_33 stl_84" style="word-spacing:-0.0008em;">LEAD OR ITS LICENSORS BE LIABLE FOR ANY DAMAGES, INCLUDING WITHOUT &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 10.5775em; "><span class="stl_32 stl_33 stl_85" style="word-spacing:0.0177em;">LIMITATION, LOST REVENUE, PROFITS OR DATA, OR FOR SPECIAL, INDIRECT, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 11.8575em; "><span class="stl_32 stl_33 stl_43" style="word-spacing:-0.0003em;">CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER CAUSED &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 13.1475em; z-index:285; "><span class="stl_32 stl_33 stl_18" style="word-spacing:-0.0035em;">AND REGARDLESS OF THE THEORY OF LIABILIT</span><span class="stl_32 stl_33 stl_86">Y</span><span class="stl_32 stl_33 stl_10" style="word-spacing:-0.0016em;">, </span><span class="stl_32 stl_33 stl_87">A</span><span class="stl_32 stl_33 stl_56" style="word-spacing:0.006em;">RISING OUT OF OR RELATED IN &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 14.4275em; "><span class="stl_32 stl_33 stl_73" style="word-spacing:0.0123em;">ANY WAY TO YOUR HAVING, IMPLEMENTING OR OTHERWISE USING THE &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 15.7175em; "><span class="stl_32 stl_33 stl_88" style="word-spacing:-0.0147em;">SPECIFICATION, EVEN IF SPECIFICATION LEAD AND/OR ITS LICENSORS HAVE BEEN &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 16.9975em; "><span class="stl_32 stl_33 stl_23" style="word-spacing:0.0029em;">ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 19.5675em; "><span class="stl_32 stl_33 stl_66">Y</span><span class="stl_32 stl_33 stl_67">o</span><span class="stl_32 stl_33 stl_34" style="word-spacing:-0.0151em;">u will indemnify, hold harmless, and defend Specification Lead and its licensors &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 20.8575em; "><span class="stl_32 stl_33 stl_53" style="word-spacing:0.0041em;">from any claims arising or resulting from: (i) your use of the Specification; (ii) the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 22.1375em; "><span class="stl_32 stl_33 stl_42" style="word-spacing:0.0012em;">use or distribution of your Java application, applet and/or implementation; and/ &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 23.4175em; "><span class="stl_32 stl_33 stl_41" style="word-spacing:0.0094em;">or (iii) any claims that later versions or releases of any Specification furnished to &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 24.7075em; "><span class="stl_32 stl_33 stl_45" style="word-spacing:-0.0009em;">you are incompatible with the Specification provided to you under this license. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 27.2775em; "><span class="stl_32 stl_33 stl_52" style="word-spacing:0.0017em;">RESTRICTED RIGHTS LEGEND &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 28.5575em; "><span class="stl_32 stl_33 stl_13" style="word-spacing:-0.0252em;">U.S. Government: If this Specification is being acquired by or on behalf of the U.S. &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 29.8475em; "><span class="stl_32 stl_33 stl_24" style="word-spacing:0.0075em;">Government or by a U.S. Government prime contractor or subcontractor (at any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 31.1275em; "><span class="stl_32 stl_33 stl_43" style="word-spacing:0.0025em;">tier), then the Government's rights in the Software and accompanying &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 32.4175em; "><span class="stl_32 stl_33 stl_44" style="word-spacing:-0.0102em;">documentation shall be only as set forth in this license; this is in accordance with &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 33.6975em; "><span class="stl_32 stl_33 stl_89" style="word-spacing:0.0076em;">48 C.F.R. 227.7201 through 227.7202-4 (for Department of Defense (DoD) &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 34.9875em; z-index:1184; "><span class="stl_32 stl_33 stl_90" style="word-spacing:-0.0044em;">acquisitions) and with 48 C.</span><span class="stl_32 stl_33 stl_91">F</span><span class="stl_32 stl_33 stl_19">.</span><span class="stl_32 stl_33 stl_92" style="word-spacing:0em;">R. 2.101 and 12.212 (for non-DoD acquisitions). &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 37.5575em; "><span class="stl_32 stl_33 stl_52">REPORT &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:6.0367em;top: 38.8375em; "><span class="stl_32 stl_33 stl_37" style="word-spacing:0.0034em;">If you provide Specification Lead with any comments or suggestions concerning &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 40.1175em; "><span class="stl_32 stl_33 stl_23" style="word-spacing:0.005em;">the Specification ("Feedback"), you hereby: (i) agree that such Feedback is &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 41.4075em; "><span class="stl_32 stl_33 stl_23" style="word-spacing:0.0018em;">provided on a non-proprietary and nonconfidential basis, and (ii) grant &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 42.6875em; "><span class="stl_32 stl_33 stl_76" style="word-spacing:0.0023em;">Specification Lead a perpetual, non-exclusive, worldwide, fully paid-up, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 43.9775em; "><span class="stl_32 stl_33 stl_18" style="word-spacing:0.0019em;">irrevocable license, with the right to sublicense through multiple levels of &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 45.2575em; "><span class="stl_32 stl_33 stl_18" style="word-spacing:0.0015em;">sublicensees, to incorporate, disclose, and use without limitation the Feedback &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:6.0367em;top: 46.5475em; "><span class="stl_32 stl_33 stl_70" style="word-spacing:0.0073em;">for any purpose. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_93">vii &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 5.5675em; "><span class="stl_32 stl_33 stl_94" style="word-spacing:-0.0057em;">GENERAL TERMS &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 6.8475em; "><span class="stl_32 stl_33 stl_46" style="word-spacing:0.0044em;">Any action related to this Agreement will be governed by California law and &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 8.1275em; "><span class="stl_32 stl_33 stl_89" style="word-spacing:0.0077em;">controlling U.S. federal law. The U.N. Convention for the International Sale of &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 9.4175em; "><span class="stl_32 stl_33 stl_49" style="word-spacing:0.0005em;">Goods and the choice of law rules of any jurisdiction will not apply. The &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 10.6975em; "><span class="stl_32 stl_33 stl_54" style="word-spacing:0.0041em;">Specification is subject to U.S. export control laws and may be subject to export &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 11.9875em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.007em;">or import regulations in other countries. Licensee agrees to comply strictly with &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 13.2675em; "><span class="stl_32 stl_33 stl_18" style="word-spacing:0.0007em;">all such laws and regulations and acknowledges that it has the responsibility to &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 14.5575em; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0049em;">obtain such licenses to export, re-export or import as maybe required after &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 15.8375em; "><span class="stl_32 stl_33 stl_95" style="word-spacing:0.0003em;">delivery to Licensee. &nbsp;</span></div>
					<div class="stl_01 stl_31" style="left:8.2867em;top: 18.4075em; z-index:563; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0056em;">This Agreement is the parties' entire agreement relating to its subject matte</span><span class="stl_32 stl_33 stl_96">r</span><span class="stl_32 stl_33 stl_10" style="word-spacing:0.0045em;">. </span><span class="stl_32 stl_33 stl_68">I</span><span class="stl_32 stl_33 stl_68">t &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 19.6975em; "><span class="stl_32 stl_33 stl_39" style="word-spacing:0.0012em;">supersedes all prior or contemporaneous oral or written communications, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 20.9775em; "><span class="stl_32 stl_33 stl_10" style="word-spacing:0.005em;">proposals, conditions, representations and warranties and prevails over any &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 22.2675em; "><span class="stl_32 stl_33 stl_61" style="word-spacing:0.0031em;">conflicting or additional terms of any quote, order, acknowledgment, or other &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 23.5475em; "><span class="stl_32 stl_33 stl_68" style="word-spacing:0.0028em;">communication between the parties relating to its subject matter during the &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 24.8275em; "><span class="stl_32 stl_33 stl_57" style="word-spacing:0.0006em;">term of this Agreement. No modification to this Agreement will be binding, &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:8.2867em;top: 26.1175em; z-index:954; "><span class="stl_32 stl_33 stl_65" style="word-spacing:0.0069em;">unless in writing and signed by an authorized representative of each party. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.4266em;top: 2.609em; "><span class="stl_08 stl_09 stl_44">viii &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">ix &nbsp;</span></div>
					<div class="stl_01 stl_97" style="left:28.7067em;top: 13.135em; "><span class="stl_98 stl_99 stl_53">Contents &nbsp;</span></div>
					<div class="stl_01 stl_100" style="left:8.2867em;top: 21.015em; "><span class="stl_101 stl_99 stl_102" style="word-spacing:-0.0025em;">Java™ Transaction API (JTA) . . . . . . . . . . . . . . . . . . . . . . .</span><span class="stl_101 stl_99 stl_10" style="word-spacing:0.3069em;">&nbsp;</span><span class="stl_101 stl_99 stl_102" style="word-spacing:-0.0025em;">i &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:8.2867em;top: 22.846em; "><span class="stl_104 stl_99 stl_10">1</span></div>
					<div class="stl_01 stl_103" style="left:12.7861em;top: 22.846em; "><span class="stl_104 stl_99 stl_34">Introductio</span><span class="stl_104 stl_99 stl_105">n</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0039em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.215em;">&nbsp;</span><span class="stl_26 stl_09 stl_106">.</span><span class="stl_104 stl_99 stl_107">1 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:10.0467em;top: 24.2739em; "><span class="stl_26 stl_09 stl_108">1.1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:10.0467em;top: 25.5239em; "><span class="stl_26 stl_09 stl_108">1.2 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 24.2739em; "><span class="stl_26 stl_09 stl_109" style="word-spacing:-0.0129em;">Background. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:14.2854em;top: 25.5239em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0018em;">Target Audience . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:8.2867em;top: 27.016em; "><span class="stl_104 stl_99 stl_10">2</span></div>
					<div class="stl_01 stl_103" style="left:12.7861em;top: 27.016em; "><span class="stl_104 stl_99 stl_59" style="word-spacing:0.0283em;">Relationship to Other Java APIs </span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0036em;">. . . . . . . . . . . . . . . . . . . . . .</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.226em;">&nbsp;</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0036em;">. &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:37.5467em;top: 27.016em; "><span class="stl_104 stl_99 stl_10">5</span></div>
					<div class="stl_01 stl_25" style="left:10.0467em;top: 28.4439em; "><span class="stl_26 stl_09 stl_108">2.1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:10.0467em;top: 29.6939em; "><span class="stl_26 stl_09 stl_108">2.2 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:10.0467em;top: 30.9439em; "><span class="stl_26 stl_09 stl_108">2.3 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:10.0467em;top: 32.1939em; "><span class="stl_26 stl_09 stl_108">2.4 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:10.0467em;top: 33.4439em; "><span class="stl_26 stl_09 stl_108">2.5 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 28.4439em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0034em;">Java SE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:14.2854em;top: 29.6939em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0012em;">Enterprise JavaBeans . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:14.2854em;top: 30.9439em; "><span class="stl_26 stl_09 stl_111" style="word-spacing:0.2383em;">JDBC .</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0093em;">&nbsp;</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0044em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:14.2854em;top: 32.1939em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0059em;">Java Message Service . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:14.2854em;top: 33.4439em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0018em;">Java Transaction Service</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2048em;">&nbsp;</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0042em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:8.2867em;top: 34.936em; "><span class="stl_104 stl_99 stl_10">3</span></div>
					<div class="stl_01 stl_103" style="left:12.7861em;top: 34.936em; "><span class="stl_104 stl_99 stl_61" style="word-spacing:0.0214em;">Java Transaction API </span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0039em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.215em;">&nbsp;</span><span class="stl_26 stl_09 stl_113">.</span><span class="stl_104 stl_99 stl_111">9 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:10.0467em;top: 36.3639em; "><span class="stl_26 stl_09 stl_108">3.1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:10.0467em;top: 37.6139em; "><span class="stl_26 stl_09 stl_108">3.2 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 36.3639em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0004em;">User Transaction Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 37.6139em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:0.0011em;">TransactionManager Interface . . . . . . . . . . . . . . . . . . . . . . . . . 10 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:17.2863em;top: 38.7739em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0001em;">Starting a Transaction . . . . . . . . . . . . . . . . . . . . . . . . . 11 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:17.2863em;top: 39.8639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0002em;">Completing a Transaction . . . . . . . . . . . . . . . . . . . . . . 11 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:17.2863em;top: 40.9439em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0048em;">Suspending and Resuming a Transaction . . . . . . . . . . 12 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:12.0367em;top: 38.7739em; "><span class="stl_26 stl_09 stl_44">3.2.1 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:12.0367em;top: 39.8639em; "><span class="stl_26 stl_09 stl_44">3.2.2 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:12.0367em;top: 40.9439em; "><span class="stl_26 stl_09 stl_44">3.2.3 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:10.0467em;top: 42.1939em; "><span class="stl_26 stl_09 stl_108">3.3 &nbsp;</span></div>
					<div class="stl_01 stl_118" style="left:10.0467em;top: 47.8639em; "><span class="stl_26 stl_09 stl_108">3.4 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 42.1939em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0026em;">Transaction Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1718em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.008em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:17.2863em;top: 43.3639em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0001em;">Resource Enlistment . . . . . . . . . . . . . . . . . . . . . . . . . . 13 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:17.2863em;top: 44.4439em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0029em;">Transaction Synchronizatio</span><span class="stl_26 stl_09 stl_120">n</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0042em;">. . . . . . . . . . . . . . . . . . . . </span><span class="stl_26 stl_09 stl_119">1</span><span class="stl_26 stl_09 stl_119">6 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:17.2863em;top: 45.5239em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:0.0022em;">Transaction Completion</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2256em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0079em;">. . . . . . . . . . . . . . . . . . . . . . . 16 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:17.2863em;top: 46.6139em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0035em;">Transaction Equality and Hash Code</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1932em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.007em;">. . . . . . . . . . . . . 16 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:12.0366em;top: 43.3639em; "><span class="stl_26 stl_09 stl_44">3.3.1 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:12.0366em;top: 44.4439em; "><span class="stl_26 stl_09 stl_44">3.3.2 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:12.0366em;top: 45.5239em; "><span class="stl_26 stl_09 stl_44">3.3.3 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:12.0366em;top: 46.6139em; "><span class="stl_26 stl_09 stl_44">3.3.4 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:14.2854em;top: 47.8639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0039em;">XAResource Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2269em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0077em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.1266em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">x</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 5.2339em; "><span class="stl_26 stl_09 stl_44">3.4.1 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 6.3139em; "><span class="stl_26 stl_09 stl_44">3.4.2 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 7.4039em; "><span class="stl_26 stl_09 stl_44">3.4.3 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 8.4839em; "><span class="stl_26 stl_09 stl_44">3.4.4 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 9.5639em; "><span class="stl_26 stl_09 stl_44">3.4.5 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 10.654em; "><span class="stl_26 stl_09 stl_44">3.4.6 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 11.734em; "><span class="stl_26 stl_09 stl_44">3.4.7 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 12.814em; "><span class="stl_26 stl_09 stl_44">3.4.8 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 13.904em; "><span class="stl_26 stl_09 stl_44">3.4.9 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:9.7867em;top: 14.984em; "><span class="stl_26 stl_09 stl_122">3.4.10 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:15.0363em;top: 5.2339em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0025em;">Opening a Resource Manager . . . . . . . . . . . . . . . . . . . 19 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0363em;top: 6.3139em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:-0.0045em;">Closing a Resource Manager. . . . . . . . . . . . . . . . . . . . 19 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:15.0363em;top: 7.4039em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0012em;">Thread of Control</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1619em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0064em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0363em;top: 8.4839em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0033em;">Transaction Association</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1931em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.006em;">. . . . . . . . . . . . . . . . . . . . . . . 21 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0363em;top: 9.5639em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0032em;">Externally Controlled connections</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1611em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0048em;">. . . . . . . . . . . . . . . 22 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:15.0363em;top: 10.654em; "><span class="stl_26 stl_09 stl_124" style="word-spacing:-0.008em;">Resource Sharing. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0363em;top: 11.734em; "><span class="stl_26 stl_09 stl_125" style="word-spacing:0.0002em;">Local and Global Transactions . . . . . . . . . . . . . . . . . . 23 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0363em;top: 12.814em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0034em;">Failure Recovery . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24 &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:15.0363em;top: 13.904em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:0.0045em;">Identifying Resource Manager Instance . . . . . . . . . . . 24 &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:15.0354em;top: 14.984em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:0.001em;">Dynamic Registration . . . . . . . . . . . . . . . . . . . . . . . . . 25 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.7967em;top: 16.234em; "><span class="stl_26 stl_09 stl_108">3.5 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.7967em;top: 17.484em; "><span class="stl_26 stl_09 stl_108">3.6 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 18.734em; "><span class="stl_26 stl_09 stl_108">3.7 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 19.984em; "><span class="stl_26 stl_09 stl_108">3.8 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:12.0354em;top: 16.234em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0028em;">Xid Interfac</span><span class="stl_26 stl_09 stl_126">e</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0067em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:12.0354em;top: 17.484em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0079em;">TransactionSynchronizationRegistry Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.1825em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0036em;">. . . . . . . . . . . . 26 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 18.734em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0028em;">Transactional Annotation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 19.984em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0087em;">TransactionScoped Annotation</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2362em;">&nbsp;</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.006em;">. . . . . . . . . . . . . . . . . . . . . . . . 29 &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:6.0367em;top: 21.476em; "><span class="stl_104 stl_99 stl_10">4</span></div>
					<div class="stl_01 stl_103" style="left:10.5361em;top: 21.476em; "><span class="stl_104 stl_99 stl_59" style="word-spacing:0.0158em;">JTA Support in the Application Server </span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0039em;">. . . . . . . . . . . . . . .</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.226em;">&nbsp;</span><span class="stl_26 stl_09 stl_124">.</span><span class="stl_104 stl_99 stl_10">33 &nbsp;</span></div>
					<div class="stl_01 stl_127" style="left:12.0354em;top: 22.9039em; "><span class="stl_26 stl_09 stl_128" style="word-spacing:-0.0025em;">Connection-Based Resource Usage Scenario. . . . . . . . . . . . . . 33 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 24.1539em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:0.0124em;">Transaction Association and Connection Request Flow . . . . . 35 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 25.4039em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0003em;">Other Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.7967em;top: 22.9039em; "><span class="stl_26 stl_09 stl_108">4.1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 24.1539em; "><span class="stl_26 stl_09 stl_108">4.2 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 25.4039em; "><span class="stl_26 stl_09 stl_108">4.3 &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:6.0367em;top: 26.886em; "><span class="stl_104 stl_99 stl_68" style="word-spacing:-0.0041em;">Appendix A: Related Documents</span><span class="stl_104 stl_99 stl_10" style="word-spacing:0.221em;">&nbsp;</span><span class="stl_104 stl_99 stl_129" style="word-spacing:-0.0299em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . .39 &nbsp;</span></div>
					<div class="stl_01 stl_130" style="left:6.0367em;top: 28.476em; "><span class="stl_104 stl_99 stl_18" style="word-spacing:-0.0047em;">Appendix B: Revision History . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .41 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.7967em;top: 29.9039em; "><span class="stl_26 stl_09 stl_93">B.1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 31.1539em; "><span class="stl_26 stl_09 stl_93">B.2 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:7.7967em;top: 32.4039em; "><span class="stl_26 stl_09 stl_93">B.3 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.7967em;top: 33.6539em; "><span class="stl_26 stl_09 stl_93">B.4 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:12.0354em;top: 29.9039em; "><span class="stl_26 stl_09 stl_87" style="word-spacing:-0.0054em;">Changes for Version 1.</span><span class="stl_26 stl_09 stl_131">3</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0058em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span><span class="stl_26 stl_09 stl_119">4</span><span class="stl_26 stl_09 stl_119">1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 31.1539em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.004em;">Changes for Version 1.</span><span class="stl_26 stl_09 stl_132">2</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0058em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span><span class="stl_26 stl_09 stl_119">4</span><span class="stl_26 stl_09 stl_119">1 &nbsp;</span></div>
					<div class="stl_01 stl_38" style="left:12.0354em;top: 32.4039em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.004em;">Changes for Version 1.</span><span class="stl_26 stl_09 stl_132">1</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0058em;">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span><span class="stl_26 stl_09 stl_119">4</span><span class="stl_26 stl_09 stl_119">1 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:12.0354em;top: 33.6539em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0039em;">Changes for Version 1.0.1B . . . . . . . . . . . . . . . . . . . . . . . . . . . 42 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_03.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_03.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">1</span></div>
					<div class="stl_01 stl_134" style="left:28.5867em;top: 5.2919em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2027em;">C H A P T E R </span><span class="stl_136 stl_09 stl_10" style="word-spacing:0.0507em;">1 &nbsp;</span></div>
					<div class="stl_01 stl_137" style="left:25.9367em;top: 9.49em; "><span class="stl_138 stl_09 stl_61">Introduction &nbsp;</span></div>
					<div class="stl_01 stl_139" style="left:8.2867em;top: 16.932em; "><span class="stl_140 stl_99 stl_10">T</span></div>
					<div class="stl_01 stl_25" style="left:9.6267em;top: 17.6939em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0076em;">his document describes the Java Transaction API (J</span><span class="stl_26 stl_09 stl_142">T</span><span class="stl_26 stl_09 stl_143">A</span><span class="stl_26 stl_09 stl_144" style="word-spacing:0.006em;">). JTA specifies local &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 18.8639em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0014em;">Java interfaces between a transaction manager and the parties involved in a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 20.0239em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:-0.002em;">distributed transaction system: the application, the resource manager, and the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 21.1939em; z-index:237; "><span class="stl_26 stl_09 stl_147" style="word-spacing:0.0085em;">application server. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 23.5239em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0032em;">The JTA package consists of two parts: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 25.7739em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.025em;">&nbsp;</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0246em;">high-level application interface that allows a transactional application to de- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 26.9439em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0029em;">marcate transaction boundaries &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 28.3639em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.036em;">&nbsp;</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0399em;">high-level transaction manager interface that allows an application server to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 29.5239em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0734em;">control transaction boundary demarcation for an application being managed by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 30.6939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0026em;">the application server &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 34.1385em; "><span class="stl_148 stl_99 stl_114" style="word-spacing:0.0051em;">Note – </span><span class="stl_26 stl_09 stl_18" style="word-spacing:0.0028em;">The JTA interfaces are presented as high-level from the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 35.3139em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0015em;">manager’s perspective. In contrast, a low-level API for the transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 36.4739em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0003em;">consists of interfaces that are used to implement the transaction manager. For &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 37.6439em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0101em;">example, the Java mapping of the OTS are low-level interfaces used internally by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 38.8139em; z-index:819; "><span class="stl_26 stl_09 stl_36" style="word-spacing:0.0044em;">a transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 42.3439em; "><span class="stl_26 stl_09 stl_10">.</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.1266em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">2</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 5.2205em; "><span class="stl_150 stl_99 stl_10">1.1 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 5.2205em; "><span class="stl_150 stl_99 stl_76">Background &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0082em;">Distributed transaction services in Enterprise Java middleware involves five &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 8.7339em; "><span class="stl_26 stl_09 stl_151" style="word-spacing:-0.0007em;">players: the transaction manager, the application server, the resource manager, the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 9.9039em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:-0.0033em;">application program, and the communication resource manager. Each of these &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 11.0639em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0019em;">players contributes to the distributed transaction processing system by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 12.2339em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0062em;">implementing different sets of transaction APIs and functionalities. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 14.4839em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.007em;">&nbsp;</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0026em;">transaction manager provides the services and management functions re- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 15.6539em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0788em;">quired to support transaction demarcation, transactional resource management, &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 16.8139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0003em;">synchronization, and transaction context propagation. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 18.2339em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:0.294em;">• An</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.005em;">&nbsp;</span><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0026em;">application server (or TP monitor) provides the infrastructure required to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 19.4039em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0343em;">support the application run-time environment which includes transaction state &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 20.5639em; z-index:723; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.002em;">management. An example of such an application server is an EJB server. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 21.9839em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.007em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0014em;">resource manager (through a resource adapter) provides the application ac- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 23.1539em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0066em;">cess to resources. The resource manager participates in distributed transac- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5368em;top: 24.3139em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0239em;">tions by implementing a transaction resource interface used by the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 25.4839em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0004em;">manager to communicate transaction association, transaction completion and &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 26.6539em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.002em;">recovery work. An example of such a resource manager is a relational data- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5368em;top: 27.8139em; z-index:1065; "><span class="stl_26 stl_09 stl_73" style="word-spacing:0.0049em;">base server. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7168em;top: 29.2339em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.014em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0169em;">component-based transactional application that is developed to operate in a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 30.4039em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0104em;">modern application server environment relies on the application server to pro- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5368em;top: 31.5639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0397em;">vide transaction management support through declarative transaction attribute &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 32.7339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0017em;">settings. An example of this type of applications is an application developed &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 33.9039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0008em;">using the industry standard Enterprise JavaBeans (EJB) component architec- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5368em;top: 35.0639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0026em;">ture. In addition, some other stand-alone Java client programs may wish to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 36.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0037em;">control their transaction boundaries using a high-level interface provided by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 37.4039em; "><span class="stl_26 stl_09 stl_52" style="word-spacing:-0.0012em;">the application server or the transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7168em;top: 38.8139em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.047em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0523em;">communication resource manager (CRM) supports transaction context prop- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 39.9839em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0037em;">agation and access to the transaction service for incoming and outgoing re- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 41.1539em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0025em;">quests. The JTA document does not specify requirements pertained to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 42.3139em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0292em;">communication. Refer to the JTS Specification [2] for more details on interop- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 43.4839em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0008em;">erability between transaction managers. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 45.7339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.002em;">From the transaction manager’s perspective, the actual implementation of the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 46.9039em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0em;">transaction services does not need to be exposed; only high-level interfaces need &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 48.0739em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0005em;">to be defined to allow transaction demarcation, resource enlistment, &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_04.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_04.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:33.4266em;top: 2.6159em; "><span class="stl_155 stl_09 stl_156">BACKGROUND &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">3</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0026em;">synchronization and recovery process to be driven from the users of the &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:-0.0021em;">transaction services. The purpose of JTA is to define the local Java interfaces &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">required for the transaction manager to support transaction management in the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 8.8639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0052em;">Java enterprise distributed computing environment. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 11.1939em; "><span class="stl_26 stl_09 stl_61" style="word-spacing:0.0045em;">In the diagram shown below, the small half-circle represents the JTA &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 12.3639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0034em;">specification. Chapter 3 of the document describes each portion of the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 13.5239em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0034em;">specification in details. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:31.9867em;top: 16.6839em; "><span class="stl_26 stl_09 stl_119">JTA &nbsp;</span></div>
					<div class="stl_01 stl_157" style="left:28.9967em;top: 17.6739em; "><span class="stl_26 stl_09 stl_93">TransactionManager &nbsp;</span></div>
					<div class="stl_01 stl_158" style="left:11.3467em;top: 20.082em; "><span class="stl_135 stl_09 stl_54">EJB &nbsp;</span></div>
					<div class="stl_01 stl_158" style="left:33.1266em;top: 21.002em; "><span class="stl_135 stl_09 stl_54" style="word-spacing:-0.001em;">JDBC, JMS &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:19.8061em;top: 21.3019em; "><span class="stl_15 stl_09 stl_29">Application &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:21.0267em;top: 22.8219em; "><span class="stl_15 stl_09 stl_44">Server &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:30.3466em;top: 26.7319em; "><span class="stl_15 stl_09 stl_84">Resource &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:10.9067em;top: 27.2219em; "><span class="stl_15 stl_09 stl_21">Application &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:30.5266em;top: 28.2019em; "><span class="stl_15 stl_09 stl_133">Manager &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:20.5167em;top: 28.4619em; "><span class="stl_15 stl_09 stl_122">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_159" style="left:21.5367em;top: 29.6919em; "><span class="stl_15 stl_09 stl_133">Manager &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:11.1167em;top: 31.9139em; "><span class="stl_26 stl_09 stl_68">JTA &nbsp;</span></div>
					<div class="stl_01 stl_157" style="left:8.7267em;top: 32.9139em; "><span class="stl_26 stl_09 stl_27">UserTransaction &nbsp;</span></div>
					<div class="stl_01 stl_158" style="left:20.9967em;top: 31.872em; "><span class="stl_135 stl_09 stl_46">Low-level &nbsp;</span></div>
					<div class="stl_01 stl_160" style="left:20.7467em;top: 32.982em; "><span class="stl_135 stl_09 stl_61">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_161" style="left:21.5867em;top: 33.992em; "><span class="stl_135 stl_09 stl_56">Service &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:31.9067em;top: 32.2739em; "><span class="stl_26 stl_09 stl_119">JTA &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:30.5967em;top: 33.5039em; "><span class="stl_26 stl_09 stl_128">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_158" style="left:19.8867em;top: 35.012em; "><span class="stl_135 stl_09 stl_59">Implementation &nbsp;</span></div>
					<div class="stl_01 stl_162" style="left:19.4267em;top: 36.202em; "><span class="stl_135 stl_09 stl_56" style="word-spacing:0.0038em;">(for example, JTS) &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:13.4167em;top: 39.2739em; "><span class="stl_26 stl_09 stl_163" style="word-spacing:-0.0113em;">Inbound tx &nbsp;</span></div>
					<div class="stl_01 stl_164" style="left:8.2867em;top: 40.849em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0011em;">Protocol specific &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:28.8067em;top: 39.5139em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:0.0013em;">Outbound tx &nbsp;</span></div>
					<div class="stl_01 stl_165" style="left:32.6266em;top: 40.939em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:-0.001em;">Protocol specific &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:19.0967em;top: 40.879em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:0.0053em;">Communication Resource &nbsp;</span></div>
					<div class="stl_01 stl_166" style="left:19.0967em;top: 41.809em; "><span class="stl_08 stl_09 stl_114" style="word-spacing:0.0026em;">Manager (CRM) &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.1266em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">4</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 5.2205em; "><span class="stl_150 stl_99 stl_10">1.2 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 5.2205em; "><span class="stl_150 stl_99 stl_23" style="word-spacing:-0.0023em;">Target Audience &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_167" style="word-spacing:0.0008em;">This document is intended for implementors of: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 9.8139em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.2962em;">• Transaction</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0061em;">&nbsp;</span><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0069em;">managers, such as JTS &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 11.2339em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:0.2949em;">• Resource</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0036em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:0em;">adapters, such as JDBC drivers and JMS providers &nbsp;</span></div>
					<div class="stl_01 stl_168" style="left:6.7167em;top: 12.6539em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• Transactional</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.011em;">&nbsp;</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0042em;">resource managers, such as RDBMS &nbsp;</span></div>
					<div class="stl_01 stl_127" style="left:6.7167em;top: 14.0639em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.2964em;">• Application</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0062em;">&nbsp;</span><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0058em;">servers, such as Java EE Servers &nbsp;</span></div>
					<div class="stl_01 stl_168" style="left:6.7167em;top: 15.4839em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.2954em;">• Advanced</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0057em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0026em;">transactional applications written in the Java</span><sup style="top: -0.37em;"><span class="stl_169 stl_09 stl_170" style="word-spacing:0.1894em;">TM </span></sup><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.009em;">programming lan- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 16.6539em; "><span class="stl_26 stl_09 stl_28">guage &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:35.4767em;top: 2.6159em; "><span class="stl_155 stl_09 stl_171" style="word-spacing:-0.0195em;">JAVA SE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">5</span></div>
					<div class="stl_01 stl_158" style="left:28.3767em;top: 7.562em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2003em;">C H A P T E R &nbsp;</span></div>
					<div class="stl_01 stl_172" style="left:36.0867em;top: 5.498em; "><span class="stl_136 stl_09 stl_10">2</span></div>
					<div class="stl_01 stl_137" style="left:11.4867em;top: 9.7em; "><span class="stl_138 stl_09 stl_46" style="word-spacing:-0.0008em;">Relationship to Other Java &nbsp;</span></div>
					<div class="stl_01 stl_173" style="left:33.0866em;top: 12.53em; "><span class="stl_138 stl_09 stl_76">APIs &nbsp;</span></div>
					<div class="stl_01 stl_139" style="left:8.0867em;top: 19.972em; "><span class="stl_140 stl_99 stl_10">T</span></div>
					<div class="stl_01 stl_25" style="left:9.4167em;top: 20.7339em; "><span class="stl_26 stl_09 stl_174" style="word-spacing:-0.0353em;">his chapter explores the relationship between the Java Transaction API and other &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.0867em;top: 21.9039em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0016em;">Java APIs, including Enterprise JavaBeans, JDBC API, Java Message Service, and &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.0867em;top: 23.0639em; "><span class="stl_26 stl_09 stl_151" style="word-spacing:0.0057em;">Java Transaction Service. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.0867em;top: 26.2205em; "><span class="stl_150 stl_99 stl_10">2.1 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.0843em;top: 26.2205em; "><span class="stl_150 stl_99 stl_95" style="word-spacing:-0.0045em;">Java SE &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.0867em;top: 28.5639em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0109em;">Java SE provides the API that defines the contract between the transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.0867em;top: 29.7339em; "><span class="stl_26 stl_09 stl_175" style="word-spacing:0.0014em;">and the resource manager, which allows the transaction manager to enlist and delist &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.0867em;top: 30.9039em; "><span class="stl_26 stl_09 stl_176" style="word-spacing:0.0109em;">resource objects in JTA transactions.</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2387em;">&nbsp;</span><span class="stl_26 stl_09 stl_177">The</span><span class="stl_178 stl_179 stl_92">javax.transaction.x</span><span class="stl_178 stl_179 stl_180">a</span><span class="stl_26 stl_09 stl_181">package &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.0867em;top: 32.0639em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.0028em;">specifies this API consisting of the following types: &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:8.5867em;top: 34.4164em; "><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0017em;">• javax.transaction.xa.XAException &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.5867em;top: 35.5864em; "><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0017em;">• javax.transaction.xa.XAResource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.7667em;top: 36.7339em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_183" style="left:9.5867em;top: 36.8064em; "><span class="stl_178 stl_179 stl_21">javax.transaction.xa.Xid &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.0867em;top: 39.8905em; "><span class="stl_150 stl_99 stl_10">2.2 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.0843em;top: 39.8905em; "><span class="stl_150 stl_99 stl_43" style="word-spacing:-0.0017em;">Enterprise JavaBeans &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.0867em;top: 42.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0016em;">The Enterprise JavaBeans architecture requires that an EJB Container support &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.0867em;top: 43.4039em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0046em;">application-level transaction demarcation by implementing the </span><span class="stl_178 stl_179 stl_44">javax.trans- &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.0866em;top: 44.5741em; "><span class="stl_178 stl_179 stl_21">action.UserTransactio</span><span class="stl_178 stl_179 stl_184">n</span><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0102em;">interface. The </span><span class="stl_178 stl_179 stl_52">UserTransactio</span><span class="stl_178 stl_179 stl_185">n</span><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0082em;">interface is &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.0866em;top: 45.7339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0022em;">intended to be used by both the enterprise bean implementer (for beans with bean &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.0866em;top: 46.9039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0027em;">managed transactions) and by the client programmer that wants to explicitly &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.1266em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">6</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.019em;">demarcate transaction boundaries within programs that are written in the Java pro- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:0.0018em;">gramming language. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:36.4966em;top: 2.6159em; "><span class="stl_155 stl_09 stl_186">JDBC &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">7</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 5.3505em; "><span class="stl_150 stl_99 stl_10">2.3 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 5.3505em; "><span class="stl_150 stl_99 stl_61">JDBC &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0045em;">A JDBC driver that supports distributed transactions implements the &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 8.8641em; "><span class="stl_178 stl_179 stl_29">javax.transaction.xa.XAResourc</span><span class="stl_178 stl_179 stl_188">e</span><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0028em;">interface, the </span><span class="stl_178 stl_179 stl_102">javax.sql.XACon- &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 10.0241em; "><span class="stl_178 stl_179 stl_92">nectio</span><span class="stl_178 stl_179 stl_189">n</span><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0021em;">interface, and the </span><span class="stl_178 stl_179 stl_92">javax.sql.XADataSourc</span><span class="stl_178 stl_179 stl_190">e</span><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0002em;">interface. Refer to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 11.194em; "><span class="stl_191 stl_192 stl_102" style="word-spacing:0.0062em;">JDBC 4.3 Specification </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0054em;">for further details. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 14.3505em; "><span class="stl_150 stl_99 stl_10">2.4 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 14.3505em; "><span class="stl_150 stl_99 stl_68" style="word-spacing:-0.0015em;">Java Message Service &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 16.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0001em;">The Java Transaction API may be used by a Java Message Service provider to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 17.8639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0023em;">support distributed transactions. A JMS provider that supports the </span><span class="stl_178 stl_179 stl_92">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 19.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0007em;">interface is able to participate as a resource manager in a distributed transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 20.1939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0018em;">processing system that uses a two-phase commit transaction protocol. In particu- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 21.3639em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.002em;">lar, a JMS provider implements the </span><span class="stl_178 stl_179 stl_29">javax.transaction.xa.XAResource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 22.5239em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0026em;">interface, the </span><span class="stl_178 stl_179 stl_21">javax.jms.XAConnectio</span><span class="stl_178 stl_179 stl_193">n</span><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0024em;">interface, and the &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 23.6941em; "><span class="stl_178 stl_179 stl_57">javax.jms.XASessio</span><span class="stl_178 stl_179 stl_194">n</span><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0306em;">interface. Refer to the JMS 2.0 Specification for further &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 24.8639em; "><span class="stl_26 stl_09 stl_92">details. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 28.0105em; "><span class="stl_150 stl_99 stl_10">2.5 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 28.0105em; "><span class="stl_150 stl_99 stl_23" style="word-spacing:-0.0024em;">Java Transaction Service &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 30.3639em; "><span class="stl_26 stl_09 stl_195" style="word-spacing:-0.0037em;">Java Transaction Service (JTS) is a specification for building a transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 31.5239em; "><span class="stl_26 stl_09 stl_196" style="word-spacing:0.002em;">which supports the JTA interfaces at the high-level and the standard Java mapping &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 32.6939em; "><span class="stl_26 stl_09 stl_197" style="word-spacing:0.0006em;">of the CORBA Object Transaction Service 1.1 specification at the low-level. JTS &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 33.8639em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0015em;">provides transaction interoperability using the CORBA standard IIOP protocol for &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 35.0239em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0012em;">transaction propagation between servers. JTS is intended for vendors that provide &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 36.1939em; "><span class="stl_26 stl_09 stl_197" style="word-spacing:0.0035em;">the transaction system infrastructure for enterprise middleware. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:4.1266em;top: 2.609em; "><span class="stl_08 stl_09 stl_10">8</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:27.7266em;top: 2.6159em; "><span class="stl_155 stl_09 stl_199" style="word-spacing:-0.0028em;">USER TRANSACTION INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_10">9</span></div>
					<div class="stl_01 stl_134" style="left:28.5867em;top: 5.2919em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2027em;">C H A P T E R </span><span class="stl_136 stl_09 stl_10" style="word-spacing:0.0507em;">3 &nbsp;</span></div>
					<div class="stl_01 stl_137" style="left:16.7667em;top: 9.49em; "><span class="stl_138 stl_09 stl_53" style="word-spacing:-0.0023em;">Java Transaction API &nbsp;</span></div>
					<div class="stl_01 stl_139" style="left:9.7867em;top: 16.932em; "><span class="stl_140 stl_99 stl_10">T</span></div>
					<div class="stl_01 stl_25" style="left:11.1267em;top: 17.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0006em;">he Java Transaction API consists of three elements: a high-level &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 18.8639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0021em;">application transaction demarcation interface, a high-level transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 20.0239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0236em;">interface intended for an application server, and a standard Java mapping of the X/ &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 21.1939em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.003em;">Open XA protocol intended for a transactional resource manager. This chapter &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 22.3639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">specifies each of these elements in detail. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 25.5105em; "><span class="stl_150 stl_99 stl_10">3.1 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 25.5105em; "><span class="stl_150 stl_99 stl_23" style="word-spacing:-0.002em;">User Transaction Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 27.8639em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0046em;">javax.transaction.UserTransaction </span><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0036em;">interface provides the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 29.0239em; z-index:504; "><span class="stl_26 stl_09 stl_201" style="word-spacing:0.006em;">application the ability to control transaction boundaries programmatically. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 30.1939em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0015em;">The implementation of the </span><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0218em;">UserTransaction </span><span class="stl_26 stl_09 stl_202" style="word-spacing:-0.0087em;">object must be both &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 31.3641em; "><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0274em;">javax.naming.Referenceable </span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0134em;">and </span><span class="stl_178 stl_179 stl_92">java.io.Serializable</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0053em;">, so that the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 32.5239em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0059em;">object can be stored in all JNDI naming contexts. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 33.6939em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0407em;">The following example illustrates how an application component acquires and &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 34.8639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0041em;">uses a </span><span class="stl_178 stl_179 stl_92">UserTransactio</span><span class="stl_178 stl_179 stl_205">n</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.001em;">object via injection. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 37.189em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:0.0031em;">@Resource UserTransaction userTransaction; &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 38.359em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0003em;">public void updateData() { &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2867em;top: 39.529em; "><span class="stl_08 stl_09 stl_49" style="word-spacing:0.0007em;">// Start a transaction. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2867em;top: 40.689em; "><span class="stl_08 stl_09 stl_44">userTransaction.begin(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2867em;top: 41.859em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:-0.001em;">// ... &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2867em;top: 43.029em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0017em;">// Perform transactional operations on data &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:11.2867em;top: 44.189em; "><span class="stl_08 stl_09 stl_114" style="word-spacing:-0.0054em;">// Commit the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2867em;top: 45.359em; "><span class="stl_08 stl_09 stl_95">userTransaction.commit(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 46.529em; "><span class="stl_08 stl_09 stl_10">}</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">10 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0409em;">The following example illustrates how an application component acquires and &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0012em;">uses a UserTransaction object using a JNDI lookup. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 8.729em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0003em;">public void updateData() { &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 9.899em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0007em;">// Obtain the default initial JNDI context. &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0367em;top: 11.069em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0003em;">Context context = new InitialContext(); &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.0367em;top: 12.229em; "><span class="stl_08 stl_09 stl_76" style="word-spacing:0.0049em;">// Look up the UserTransaction object. &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0367em;top: 13.399em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:0.0005em;">UserTransaction userTransaction = (UserTransaction) &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:10.5367em;top: 14.569em; "><span class="stl_08 stl_09 stl_55">context.lookup("java:comp/UserTransaction"); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0367em;top: 15.739em; "><span class="stl_08 stl_09 stl_49" style="word-spacing:0.0007em;">// Start a transaction. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 16.899em; "><span class="stl_08 stl_09 stl_44">userTransaction.begin(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 18.069em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:-0.001em;">// ... &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 19.239em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0017em;">// Perform transactional operations on data &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.0367em;top: 20.399em; "><span class="stl_08 stl_09 stl_114" style="word-spacing:-0.0054em;">// Commit the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 21.569em; "><span class="stl_08 stl_09 stl_95">userTransaction.commit(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 22.739em; "><span class="stl_08 stl_09 stl_10">}</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 25.0639em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0006em;">UserTransaction.begin </span><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0014em;">method starts a global transaction and &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 26.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0005em;">associates the transaction with the calling thread. The transaction-to-thread &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 27.4039em; "><span class="stl_26 stl_09 stl_55" style="word-spacing:0.0021em;">association is managed transparently by the transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 28.5639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0032em;">Support for nested transactions is not required. The &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:6.0367em;top: 29.7341em; "><span class="stl_178 stl_179 stl_57" style="word-spacing:0.0247em;">UserTransaction.begin </span><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0011em;">method throws the </span><span class="stl_178 stl_179 stl_57">NotSupportedException &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 30.9039em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0354em;">when the calling thread is already associated with a transaction and the transaction &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 32.0639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0019em;">manager implementation does not support nested transactions. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 33.2339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0334em;">Transaction context propagation between application programs is provided by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 34.4039em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0002em;">the underlying transaction manager implementations on the client and server &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 35.5639em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0048em;">machines. The transaction context format used for propagation is protocol &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 36.7339em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0026em;">dependent and must be negotiated between the client and server hosts. For &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 37.9039em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0338em;">example, if the transaction manager is an implementation of the JTS specification, &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 39.0639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.002em;">it will use the transaction context propagation format as specified in the CORBA &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 40.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0044em;">OTS specification. Transaction propagation is transparent to application &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 41.4039em; "><span class="stl_26 stl_09 stl_112">programs. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 44.5605em; "><span class="stl_150 stl_99 stl_10">3.2 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 44.5605em; "><span class="stl_150 stl_99 stl_13" style="word-spacing:-0.0012em;">TransactionManager Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 46.9039em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_114" style="word-spacing:0.0087em;">javax.transaction.TransactionManager </span><span class="stl_26 stl_09 stl_153" style="word-spacing:0.0032em;">interface allows the &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 48.0739em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0015em;">application server to control transaction boundaries on behalf of the application &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:26.2266em;top: 2.6159em; "><span class="stl_155 stl_09 stl_207" style="word-spacing:-0.0068em;">TRANSACTIONMANAGER INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">11 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:0.0002em;">being managed. For example, the EJB container manages the transaction states for &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.004em;">transactional EJB components; the container uses the </span><span class="stl_178 stl_179 stl_92">TransactionManager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.003em;">interface mainly to demarcate transaction boundaries where operations affect the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 8.8639em; "><span class="stl_26 stl_09 stl_208" style="word-spacing:0.0036em;">calling thread’s transaction context. The transaction manager maintains the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 10.0239em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0005em;">transaction context association with threads as part of its internal data structure. A &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 11.1939em; "><span class="stl_26 stl_09 stl_175" style="word-spacing:-0.0066em;">thread’s transaction context is either </span><span class="stl_178 stl_179 stl_92">nul</span><span class="stl_178 stl_179 stl_210">l</span><span class="stl_26 stl_09 stl_211" style="word-spacing:-0.0042em;">or it refers to a specific global &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 12.3639em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0011em;">transaction. Multiple threads may concurrently be associated with the same global &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 13.5239em; "><span class="stl_26 stl_09 stl_206">transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 14.6939em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0038em;">Support for nested transactions is not required. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 15.8639em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0029em;">Each transaction context is encapsulated by a </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0069em;">Transaction </span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0014em;">object, which &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 17.0239em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0016em;">can be used to perform operations which are specific to the target transaction, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 18.1939em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0031em;">regardless of the calling thread’s transaction context. The following sections &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 19.3639em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0083em;">provide more detail. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 22.1085em; "><span class="stl_148 stl_99 stl_44">3.2.1 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 22.1085em; "><span class="stl_148 stl_99 stl_92" style="word-spacing:0.003em;">Starting a Transaction &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 23.9439em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0034em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0023em;">TransactionManager.begin </span><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0034em;">method starts a global transaction and &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 25.1139em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0036em;">associates the transaction context with the calling thread. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 26.2739em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0093em;">If the </span><span class="stl_178 stl_179 stl_92">TransactionManage</span><span class="stl_178 stl_179 stl_213">r</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0018em;">implementation does not support nested &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 27.4439em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0026em;">transactions, the </span><span class="stl_178 stl_179 stl_21" style="word-spacing:0.0263em;">TransactionManager.begin </span><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0035em;">method throws the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 28.6141em; "><span class="stl_178 stl_179 stl_57" style="word-spacing:0.0127em;">NotSupportedException </span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0019em;">when the calling thread is already associated with a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 29.7739em; "><span class="stl_26 stl_09 stl_93">transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 30.9439em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0007em;">The </span><span class="stl_178 stl_179 stl_114" style="word-spacing:0.0191em;">TransactionManager.getTransaction </span><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0038em;">method returns the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 32.1141em; "><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_214">n</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0042em;">object that represents the transaction context currently associated &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 33.2739em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0267em;">with the calling thread. This </span><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_215">n</span><span class="stl_26 stl_09 stl_95" style="word-spacing:-0.0167em;">object can be used to perform various &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 34.4439em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0001em;">operations on the target transaction. Examples of </span><span class="stl_178 stl_179 stl_45" style="word-spacing:0.0201em;">Transaction </span><span class="stl_26 stl_09 stl_216">object &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 35.6139em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">operations are resource enlistment and synchronization registration. The &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 36.7741em; "><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0069em;">Transaction </span><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0013em;">interface is described in Section 3.3, “Transaction Interface.” &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 39.5185em; "><span class="stl_148 stl_99 stl_44">3.2.2 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 39.5185em; "><span class="stl_148 stl_99 stl_116" style="word-spacing:-0.0032em;">Completing a Transaction &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 41.3639em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0364em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0816em;">TransactionManager.commit </span><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0305em;">method completes the transaction currently &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 42.5239em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0016em;">associated with the calling thread. After the </span><span class="stl_178 stl_179 stl_92">commi</span><span class="stl_178 stl_179 stl_217">t</span><span class="stl_26 stl_09 stl_198" style="word-spacing:0.0011em;">method returns, the calling &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 43.6939em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:-0.0152em;">thread is not associated with a transaction. If the </span><span class="stl_178 stl_179 stl_92">commi</span><span class="stl_178 stl_179 stl_218">t</span><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.015em;">method is called when the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 44.8639em; "><span class="stl_26 stl_09 stl_195" style="word-spacing:0.0031em;">thread is not associated with any transaction context, the </span><span class="stl_178 stl_179 stl_92">TransactionManager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 46.0239em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0238em;">throws an exception. In some implementations, the commit operation is restricted to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 47.1939em; "><span class="stl_26 stl_09 stl_220" style="word-spacing:0.0031em;">the transaction originator only. If the calling thread is not allowed to commit the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 48.3639em; "><span class="stl_26 stl_09 stl_221" style="word-spacing:-0.005em;">transaction, the </span><span class="stl_178 stl_179 stl_57">TransactionManage</span><span class="stl_178 stl_179 stl_222">r</span><span class="stl_26 stl_09 stl_221" style="word-spacing:0.002em;">throws an exception. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">12 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0158em;">TransactionManager.rollback </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0027em;">method rolls back the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 6.4039em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0026em;">associated with the current thread. After the </span><span class="stl_178 stl_179 stl_92">rollbac</span><span class="stl_178 stl_179 stl_217">k</span><span class="stl_26 stl_09 stl_223" style="word-spacing:-0.0116em;">method completes, the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0036em;">thread is associated with no transaction. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 10.3085em; "><span class="stl_148 stl_99 stl_44">3.2.3 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 10.3085em; "><span class="stl_148 stl_99 stl_93" style="word-spacing:-0.0007em;">Suspending and Resuming a Transaction &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 12.1539em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0233em;">A call to the </span><span class="stl_178 stl_179 stl_29" style="word-spacing:-0.033em;">TransactionManager.suspend </span><span class="stl_26 stl_09 stl_181" style="word-spacing:-0.0221em;">method temporarily suspends the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 13.3139em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:-0.0004em;">transaction that is currently associated with the calling thread. If the thread is not &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 14.4839em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0059em;">associated with any transaction, a </span><span class="stl_178 stl_179 stl_92">nul</span><span class="stl_178 stl_179 stl_210">l</span><span class="stl_26 stl_09 stl_145" style="word-spacing:0.0005em;">object reference is returned; otherwise, a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 15.6539em; "><span class="stl_26 stl_09 stl_224" style="word-spacing:0.0126em;">valid </span><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_214">n</span><span class="stl_26 stl_09 stl_81" style="word-spacing:-0.0126em;">object is returned. The </span><span class="stl_178 stl_179 stl_45" style="word-spacing:0.008em;">Transaction </span><span class="stl_26 stl_09 stl_209" style="word-spacing:0em;">object can later be &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 16.8139em; "><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0058em;">passed to the </span><span class="stl_178 stl_179 stl_92">resum</span><span class="stl_178 stl_179 stl_217">e</span><span class="stl_26 stl_09 stl_175" style="word-spacing:0.0044em;">method to reinstate the transaction context association with &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 17.9839em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0031em;">the calling thread. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 19.1539em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_21" style="word-spacing:0.0148em;">TransactionManager.resume </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0003em;">method re-associates the specified &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 20.3139em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0019em;">transaction context with the calling thread. If the transaction specified is a valid &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 21.4839em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0033em;">transaction, the transaction context is associated with the calling thread; &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 22.6539em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0003em;">otherwise, the thread is associated with no transaction. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 24.989em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0024em;">Transaction tobj = TransactionManager.suspend(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 27.149em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 28.319em; "><span class="stl_08 stl_09 stl_44">TransactionManager.resume(tobj); &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 31.6539em; "><span class="stl_26 stl_09 stl_74" style="word-spacing:0.0149em;">If </span><span class="stl_178 stl_179 stl_21" style="word-spacing:0.0268em;">TransactionManager.resume </span><span class="stl_26 stl_09 stl_95" style="word-spacing:0.0047em;">is invoked when the calling thread is &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 32.8139em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.002em;">already associated with another transaction, the transaction manager throws the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 33.9841em; "><span class="stl_178 stl_179 stl_57" style="word-spacing:0.0247em;">IllegalStateException </span><span class="stl_26 stl_09 stl_90">exception. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 35.1539em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0004em;">Note that some transaction manager implementations allow a suspended &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 36.3139em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0022em;">transaction to be resumed by a different thread. This feature is not required by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 37.4839em; "><span class="stl_26 stl_09 stl_226">JTA. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 38.6539em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0013em;">The application server is responsible for ensuring that the resources in use by &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 39.8139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0012em;">the application are properly delisted from the suspended transaction. A resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 40.9839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0012em;">delist operation triggers the transaction manager to inform the resource manager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 42.1539em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0007em;">to disassociate the transaction from the specified resource object &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 43.3139em; "><span class="stl_26 stl_09 stl_10">(</span></div>
					<div class="stl_01 stl_187" style="left:6.3467em;top: 43.3141em; "><span class="stl_178 stl_179 stl_102">XAResource.end(TMSUSPEND)</span><span class="stl_26 stl_09 stl_74">). &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 44.4839em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:-0.0002em;">When the application’s transaction context is resumed, the application server &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 45.6539em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0061em;">ensures that the resource in use by the application is again enlisted with the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 46.8239em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0044em;">transaction. Enlisting a resource as a result of resuming a transaction triggers the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 47.9839em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0033em;">transaction manager to inform the resource manager to re-associate the resource &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.5966em;top: 2.6159em; "><span class="stl_155 stl_09 stl_227" style="word-spacing:0.0003em;">TRANSACTION INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">13 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.001em;">object with the resumed transaction (</span><span class="stl_178 stl_179 stl_102">XAResource.start(TMRESUME)</span><span class="stl_26 stl_09 stl_216" style="word-spacing:-0.0036em;">). Refer &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.001em;">to Section 3.3.1, “Resource Enlistment.” and Section 3.4.4, “Transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0016em;">Association,” for more details on resource enlistment and transaction association. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 10.8505em; "><span class="stl_150 stl_99 stl_10">3.3 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 10.8505em; "><span class="stl_150 stl_99 stl_43" style="word-spacing:-0.0028em;">Transaction Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 13.1939em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_214">n</span><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.001em;">interface allows operations to be performed on the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 14.3639em; "><span class="stl_26 stl_09 stl_195" style="word-spacing:0.0029em;">associated with the target object. Every global transaction is associated with one &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 15.5241em; "><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_215">n</span><span class="stl_26 stl_09 stl_181" style="word-spacing:-0.0089em;">object when the transaction is created. The </span><span class="stl_178 stl_179 stl_45">Transactio</span><span class="stl_178 stl_179 stl_228">n</span><span class="stl_26 stl_09 stl_229">object &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 16.6939em; "><span class="stl_26 stl_09 stl_175" style="word-spacing:0.0041em;">can be used to: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 18.9439em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.2964em;">• Enlist</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0018em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0013em;">the transactional resources in use by the application. &nbsp;</span></div>
					<div class="stl_01 stl_168" style="left:8.9667em;top: 20.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2971em;">• Register</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0086em;">&nbsp;</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0004em;">for transaction synchronization callbacks. &nbsp;</span></div>
					<div class="stl_01 stl_127" style="left:8.9667em;top: 21.7739em; "><span class="stl_26 stl_09 stl_216" style="word-spacing:0.2924em;">• Commit</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0038em;">&nbsp;</span><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0011em;">or rollback the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 23.1939em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.2968em;">• Obtain</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0064em;">&nbsp;</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0047em;">the status of the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 25.4439em; z-index:675; "><span class="stl_26 stl_09 stl_45" style="word-spacing:0.0002em;">These functions are described in the sections below. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 28.1885em; "><span class="stl_148 stl_99 stl_44">3.3.1 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 28.1885em; "><span class="stl_148 stl_99 stl_116" style="word-spacing:0.0027em;">Resource Enlistment &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 30.0239em; "><span class="stl_26 stl_09 stl_197" style="word-spacing:0.0041em;">An application server provides the application run-time infrastructure that includes &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 31.1939em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:-0.0011em;">transactional resource management. Transactional resources such as database &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 32.3639em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0022em;">connections are typically managed by the application server in conjunction with &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 33.5239em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0017em;">some resource adapter and optionally with connection pooling optimization. In &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 34.6939em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0016em;">order for an external transaction manager to coordinate transactional work &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 35.8639em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0041em;">performed by the resource managers, the application server must enlist and delist &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 37.0239em; "><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0032em;">the resources used in the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 38.1939em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0001em;">Resource enlistment performed by an application server serves two purposes: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 40.4439em; "><span class="stl_26 stl_09 stl_74" style="word-spacing:0.306em;">• It</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.019em;">&nbsp;</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0298em;">informs the transaction manager about the resource manager instance that is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 41.6139em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0055em;">participating in the global transaction. This allows the transaction manager to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 42.7739em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0043em;">inform the participating resource manager on transaction association with the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 43.9439em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0007em;">work performed through the connection (resource) object. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 45.3639em; "><span class="stl_26 stl_09 stl_74" style="word-spacing:0.306em;">• It</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.013em;">&nbsp;</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0026em;">enables the transaction manager to group the resource types in use by each &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 46.5239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0166em;">transaction. The resource grouping allows the transaction manager to conduct &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 47.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0006em;">the two-phase commit transaction protocol between the transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 48.8639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0002em;">and the resource managers, as defined by the X/Open XA specification. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">14 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0123em;">For each resource in use by the application, the application server invokes the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 6.4041em; "><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0213em;">enlistResource </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0019em;">method and specifies the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0062em;">object that identifies &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 7.5639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0049em;">the resource in use. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 8.7339em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0035em;">enlistResource </span><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0005em;">request results in the transaction manager informing &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 9.9039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0062em;">the resource manager to start associating the transaction with the work performed &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 11.0639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0002em;">through the corresponding resource—by invoking the </span><span class="stl_178 stl_179 stl_92">XAResource.start &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 12.2339em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0333em;">method. The transaction manager is responsible for passing the appropriate flag in &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 13.4039em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0399em;">its </span><span class="stl_178 stl_179 stl_95" style="word-spacing:-0.0743em;">XAResource.start </span><span class="stl_26 stl_09 stl_42" style="word-spacing:-0.037em;">method call to the resource manager. The </span><span class="stl_178 stl_179 stl_92">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 14.5639em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.004em;">interface is described in Section 3.4, “XAResource Interface.” &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 15.7339em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0387em;">If the target transaction already has another </span><span class="stl_178 stl_179 stl_64" style="word-spacing:-0.0768em;">XAResource </span><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.037em;">object participating &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 16.9039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0185em;">in the transaction, the transaction manager invokes the </span><span class="stl_178 stl_179 stl_57">XAResource.isSameRM &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 18.0639em; "><span class="stl_26 stl_09 stl_108" style="word-spacing:-0.0073em;">method to determine if the specified </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0048em;">represents the same resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 19.2339em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0028em;">manager instance. This information allows the transaction manager to group the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 20.4039em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0035em;">resource managers that are performing work on behalf of the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 21.5639em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0093em;">If the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.002em;">object represents a resource manager instance that has &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 22.7339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0003em;">seen the global transaction before, the transaction manager groups the newly &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 23.9039em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0026em;">registered resource together with the previous </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0042em;">object and ensures &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 25.0639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0016em;">that the same resource manager only receives one set of prepare-commit calls for &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 26.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0034em;">completing the target global transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 27.4039em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0093em;">If the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0003em;">object represents a resource manager that has not &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 28.5639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0031em;">previously seen the global transaction, the transaction manager establishes a &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_05.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_05.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.5966em;top: 2.6159em; "><span class="stl_155 stl_09 stl_227" style="word-spacing:0.0003em;">TRANSACTION INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">15 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0011em;">different transaction branch ID</span><sup style="top: -0.37em;"><span class="stl_169 stl_09 stl_10" style="word-spacing:0.1787em;">1 </span></sup><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0014em;">and ensures that this new resource manager is &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0022em;">informed about the transaction completion with proper prepare-commit calls. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0007em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0069em;">isSameRM </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0021em;">method is discussed in Section 3.4.9, “Identifying Resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 8.8639em; "><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0077em;">Manager Instance.” &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 10.0239em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0006em;">The </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0153em;">Transaction.delistResource </span><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0043em;">method is used to disassociate the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 11.1939em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0007em;">specified resource from the transaction context in the target object. The &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 12.3639em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0019em;">application server invokes the </span><span class="stl_178 stl_179 stl_52">delistResourc</span><span class="stl_178 stl_179 stl_230">e</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0038em;">method with the following two &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 13.5239em; "><span class="stl_26 stl_09 stl_84">parameters: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 15.7739em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0071em;">&nbsp;</span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0011em;">object that represents the resource. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 17.1939em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0088em;">&nbsp;</span><span class="stl_178 stl_179 stl_92">fla</span><span class="stl_178 stl_179 stl_231">g</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0006em;">to indicate whether the delistment was due to: &nbsp;</span></div>
					<div class="stl_01 stl_232" style="left:9.7867em;top: 18.8464em; "><span class="stl_233 stl_234 stl_10">?</span></div>
					<div class="stl_01 stl_25" style="left:10.5367em;top: 18.6139em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0032em;">The transaction being suspended (</span><span class="stl_178 stl_179 stl_92">TMSUSPEND &nbsp;</span></div>
					<div class="stl_01 stl_235" style="left:10.5367em;top: 20.3639em; "><span class="stl_26 stl_09 stl_163" style="word-spacing:-0.0081em;">A portion of the work has failed (</span><span class="stl_178 stl_179 stl_92">TMFAIL &nbsp;</span></div>
					<div class="stl_01 stl_236" style="left:10.5367em;top: 22.1139em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0041em;">A normal resource release by the application (</span><span class="stl_178 stl_179 stl_42">TMSUCCESS &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:27.5467em;top: 18.6139em; "><span class="stl_26 stl_09 stl_10">)</span></div>
					<div class="stl_01 stl_232" style="left:9.7867em;top: 20.5964em; "><span class="stl_233 stl_234 stl_10">?</span></div>
					<div class="stl_01 stl_25" style="left:25.8167em;top: 20.3639em; "><span class="stl_26 stl_09 stl_10">)</span></div>
					<div class="stl_01 stl_232" style="left:9.7867em;top: 22.3464em; "><span class="stl_233 stl_234 stl_10">?</span></div>
					<div class="stl_01 stl_25" style="left:31.9467em;top: 22.1139em; "><span class="stl_26 stl_09 stl_10">)</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 23.8639em; "><span class="stl_26 stl_09 stl_55" style="word-spacing:0.0067em;">An example of </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.004em;">TMFAIL </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0014em;">could be the situation where an application receives &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 25.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0013em;">an exception on its connection operation. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 26.1939em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0033em;">The delist request results in the transaction manager informing the resource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 27.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0032em;">manager to end the association of the transaction with the target </span><span class="stl_178 stl_179 stl_92">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:36.8967em;top: 27.3639em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 28.5239em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0183em;">The flag value allows the application server to indicate whether it intends to come &nbsp;</span></div>
					<div class="stl_01 stl_237" style="left:9.6967em;top: 32.6144em; "><sup style="top: -0.37em;"><span class="stl_169 stl_09 stl_238" style="word-spacing:0.0448em;">1. </span></sup><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.011em;">Transaction Branch is defined in the X/Open XA spec [1] as follows: “A &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 33.6939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0795em;">global transaction has one or more transaction branches. A branch is a &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 34.7739em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:0.0044em;">part of the work in support of a global transaction for which the transac- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:10.2867em;top: 35.8639em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:0.0156em;">tion manager and the resource manager engage in a separate but coordi- &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 36.9439em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0189em;">nated transaction commitment protocol. Each of the resource manager’s &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 38.0239em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.008em;">internal units of work in support of a global transaction is part of exactly &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:10.2867em;top: 39.1139em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0543em;">one branch. After the transaction manager begins the transaction commit- &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 40.1939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0509em;">ment protocol, the resource manager receives no additional work to do on &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 41.2739em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.1366em;">that transaction branch. The resource manager may receive additional &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:10.2867em;top: 42.3639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0274em;">work on behalf of the same transaction, from different branches. The dif- &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 43.4439em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:0.1034em;">ferent branches are related in that they must be completed atomically. &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 44.5239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0072em;">Each transaction branch identifier (or XID) that the transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:10.2867em;top: 45.6139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0328em;">gives the resource manager identifies both a global transaction and a spe- &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 46.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0201em;">cific branch. The resource manager may use this information to optimize &nbsp;</span></div>
					<div class="stl_01 stl_117" style="left:10.2867em;top: 47.7739em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0018em;">its use of shared resources and locks.” &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">16 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0027em;">back to the same resource. The transaction manager passes the appropriate flag &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; z-index:135; "><span class="stl_26 stl_09 stl_42" style="word-spacing:0.0067em;">value in its </span><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0213em;">XAResource.end </span><span class="stl_26 stl_09 stl_42" style="word-spacing:0.0032em;">method call to the underlying resource manager. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0002em;">A container only needs to call </span><span class="stl_178 stl_179 stl_52">delistResourc</span><span class="stl_178 stl_179 stl_230">e</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0042em;">to explicitly disassociate a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 8.7339em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0005em;">resource from a transaction and it is not a mandatory container requirement to do &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 9.9039em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.043em;">so as a precondition to transaction completion. A transaction manager is, however, &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 11.0639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0002em;">required to implicitly ensure the association of any associated XAResource is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 12.2339em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0043em;">ended, via the appropriate </span><span class="stl_178 stl_179 stl_52">XAResource.en</span><span class="stl_178 stl_179 stl_230">d</span><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0033em;">call, immediately prior to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 13.4039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.028em;">completion; that is before prepare (or commit/rollback in the one-phase optimized &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 14.5639em; "><span class="stl_26 stl_09 stl_27">case). &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 17.3085em; "><span class="stl_148 stl_99 stl_44">3.3.2 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 17.3085em; "><span class="stl_148 stl_99 stl_93" style="word-spacing:0.0011em;">Transaction Synchronization &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 19.1539em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0041em;">Transaction synchronization allows the application server to get notification from &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 20.3139em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0017em;">the transaction manager before and after the transaction completes. For each &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 21.4839em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0014em;">transaction started, the application server may optionally register a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 22.6541em; "><span class="stl_178 stl_179 stl_114" style="word-spacing:-0.0171em;">javax.transaction.Synchronization </span><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0103em;">callback object to be invoked by the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 23.8139em; "><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0104em;">transaction manager: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 26.0639em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.301em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0em;">&nbsp;</span><span class="stl_178 stl_179 stl_29" style="word-spacing:-0.0297em;">Synchronization.beforeCompletion </span><span class="stl_26 stl_09 stl_21" style="word-spacing:-0.0164em;">method is called prior to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 27.2339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.001em;">start of the two-phase transaction commit process. This call is executed with &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 28.4039em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0007em;">the transaction context of the transaction that is being committed. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 29.8139em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.301em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0221em;">&nbsp;</span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.018em;">Synchronization.afterCompletion </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0022em;">method is called after the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 30.9839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0016em;">transaction has completed. The status of the transaction is supplied in the pa- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 32.1539em; "><span class="stl_26 stl_09 stl_29">rameter. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 34.8985em; "><span class="stl_148 stl_99 stl_44">3.3.3 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 34.8985em; "><span class="stl_148 stl_99 stl_116" style="word-spacing:0.0007em;">Transaction Completion &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 36.7339em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0034em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0012em;">Transaction.commit </span><span class="stl_26 stl_09 stl_239" style="word-spacing:-0.0174em;">and </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0em;">Transaction.rollback </span><span class="stl_26 stl_09 stl_167" style="word-spacing:0.0008em;">methods allow the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 37.9039em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0012em;">target object to be committed or rolled back. The calling thread is not required to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 39.0639em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0001em;">have the same transaction associated with the thread. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 40.2339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0011em;">If the calling thread is not allowed to commit the transaction, the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 41.4039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0039em;">manager throws an exception. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 44.1485em; "><span class="stl_148 stl_99 stl_44">3.3.4 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 44.1485em; "><span class="stl_148 stl_99 stl_133" style="word-spacing:-0.0048em;">Transaction Equality and Hash Code &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 45.9839em; z-index:1560; "><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0061em;">The transaction manager must implement the </span><span class="stl_178 stl_179 stl_45" style="word-spacing:0.008em;">Transaction </span><span class="stl_26 stl_09 stl_240" style="word-spacing:0.0259em;">object’s </span><span class="stl_178 stl_179 stl_92">equals &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 47.1539em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.0019em;">method to allow comparison between the target object and another </span><span class="stl_178 stl_179 stl_92">Transaction &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_124" style="word-spacing:0.0056em;">XARESOURCE INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">17 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0036em;">object. The </span><span class="stl_178 stl_179 stl_39">equal</span><span class="stl_178 stl_179 stl_241">s</span><span class="stl_26 stl_09 stl_221" style="word-spacing:-0.0026em;">method should return </span><span class="stl_178 stl_179 stl_92">tru</span><span class="stl_178 stl_179 stl_210">e</span><span class="stl_26 stl_09 stl_167" style="word-spacing:-0.0037em;">if the target object and the &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:-0.0002em;">parameter object both refer to the same global transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0073em;">For example, the application server may need to compare two </span><span class="stl_178 stl_179 stl_92">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 8.8639em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0005em;">objects when trying to reuse a resource that is already enlisted with a transaction. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 10.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0005em;">This can be done using the </span><span class="stl_178 stl_179 stl_92">equal</span><span class="stl_178 stl_179 stl_217">s</span><span class="stl_26 stl_09 stl_108">method. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 12.359em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:0.0019em;">Transaction txObj = TransactionManager.getTransaction(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 13.529em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0019em;">Transaction someOtherTxObj = ... &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 15.859em; "><span class="stl_08 stl_09 stl_49" style="word-spacing:0em;">// .. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 17.029em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0015em;">boolean isSame = txObj.equals(someOtherTxObj); &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 19.3639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.002em;">In addition, the transaction manager must implement the </span><span class="stl_178 stl_179 stl_45">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 20.5239em; "><span class="stl_26 stl_09 stl_85" style="word-spacing:0.0201em;">object’s </span><span class="stl_178 stl_179 stl_43">hashCod</span><span class="stl_178 stl_179 stl_242">e</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0037em;">method so that if two </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0069em;">Transaction </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0012em;">objects are equal, they &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 21.6939em; "><span class="stl_26 stl_09 stl_45" style="word-spacing:-0.0008em;">have the same hash code. However, the converse is not necessarily true. Two &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 22.8641em; "><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0069em;">Transaction </span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0029em;">objects with the same hash code are not necessarily equal. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 26.0105em; "><span class="stl_150 stl_99 stl_10">3.4 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 26.0105em; "><span class="stl_150 stl_99 stl_13" style="word-spacing:-0.0011em;">XAResource Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 28.3639em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">javax.transaction.xa.XAResource </span><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0019em;">interface is a Java mapping of the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 29.5239em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0048em;">industry standard XA interface based on the X/Open CAE Specification &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 30.6939em; "><span class="stl_26 stl_09 stl_174" style="word-spacing:0.002em;">(Distributed Transaction Processing: The XA Specification). &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 31.8639em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:-0.0103em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0299em;">XAResource </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0107em;">interface defines the contract between a resource manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 33.0239em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">and a transaction manager in a distributed transaction processing (DTP) &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 34.1939em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0034em;">environment. A resource adapter for a resource manager implements the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 35.3641em; "><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0006em;">interface to support association of a global transaction to a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 36.5239em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0035em;">transaction resource, such as a connection to a relational database. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 37.6939em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0048em;">A global transaction is a unit of work that is performed by one or more &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 38.8639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.001em;">resource managers in a DTP system. Such a system relies on an external &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 40.0239em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0012em;">transaction manager, such as Java Transaction Service (JTS), to coordinate &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 41.1939em; "><span class="stl_26 stl_09 stl_84">transactions. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_06.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_06.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">18 &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:21.8267em;top: 7.224em; "><span class="stl_244 stl_09 stl_59" style="word-spacing:-0.0005em;">Java Application &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:21.8267em;top: 9.054em; "><span class="stl_244 stl_09 stl_70" style="word-spacing:0.0109em;">Application Server &nbsp;</span></div>
					<div class="stl_01 stl_245" style="left:22.8267em;top: 11.7478em; "><span class="stl_246 stl_192 stl_10">JDBC &nbsp;</span></div>
					<div class="stl_01 stl_247" style="left:22.8267em;top: 12.6678em; "><span class="stl_246 stl_192 stl_21">JMS &nbsp;</span></div>
					<div class="stl_01 stl_245" style="left:29.3666em;top: 12.3478em; "><span class="stl_246 stl_192 stl_39">javax.transaction. &nbsp;</span></div>
					<div class="stl_01 stl_245" style="left:29.3666em;top: 13.2678em; "><span class="stl_246 stl_192 stl_73">TransactionManager &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:10.7567em;top: 13.804em; "><span class="stl_244 stl_09 stl_34" style="word-spacing:0.0003em;">Database 1 &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:5.9467em;top: 14.324em; "><span class="stl_244 stl_09 stl_34" style="word-spacing:0.0003em;">Database 2 &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:27.7567em;top: 17.514em; "><span class="stl_244 stl_09 stl_248">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_247" style="left:27.7567em;top: 18.434em; "><span class="stl_244 stl_09 stl_10">Manager &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:16.2567em;top: 18.594em; "><span class="stl_244 stl_09 stl_249">Resource &nbsp;</span></div>
					<div class="stl_01 stl_247" style="left:16.2567em;top: 19.514em; "><span class="stl_244 stl_09 stl_34">Managers &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:7.6367em;top: 19.394em; "><span class="stl_244 stl_09 stl_39">Message &nbsp;</span></div>
					<div class="stl_01 stl_243" style="left:7.6367em;top: 20.304em; "><span class="stl_244 stl_09 stl_122">Queue &nbsp;</span></div>
					<div class="stl_01 stl_247" style="left:7.6367em;top: 21.224em; "><span class="stl_244 stl_09 stl_23">Server &nbsp;</span></div>
					<div class="stl_01 stl_245" style="left:21.0766em;top: 21.4978em; "><span class="stl_246 stl_192 stl_36">javax.transaction. &nbsp;</span></div>
					<div class="stl_01 stl_247" style="left:21.0766em;top: 22.4178em; "><span class="stl_246 stl_192 stl_73">xa.XAResource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 25.5339em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0015em;">interface can be supported by any transactional resource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 26.6939em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0015em;">adapter that is intended to be used by application programs in an environment &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 27.8639em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0268em;">where transactions are controlled by an external transaction manager. An example &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 29.0339em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0023em;">of such a resource is a database management system. An application may access &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 30.1939em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0062em;">data through multiple database connections. Each database connection is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 31.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0083em;">associated with an </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_250">e</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.005em;">object that serves as a proxy object to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 32.5339em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0057em;">underlying resource manager instance. The transaction manager obtains an &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:6.0367em;top: 33.6941em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_251">e</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0228em;">for each transaction resource participating in a global transaction. It &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 34.8639em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0335em;">uses the </span><span class="stl_178 stl_179 stl_92">star</span><span class="stl_178 stl_179 stl_252">t</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.039em;">method to associate the global transaction with the resource, and it &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 36.0339em; "><span class="stl_26 stl_09 stl_216" style="word-spacing:-0.004em;">uses the </span><span class="stl_178 stl_179 stl_92">en</span><span class="stl_178 stl_179 stl_253">d</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0001em;">method to disassociate the transaction from the resource. The &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 37.1939em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0em;">resource manager is responsible for associating the global transaction with all &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 38.3639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0001em;">work performed on its data between the </span><span class="stl_178 stl_179 stl_92">star</span><span class="stl_178 stl_179 stl_254">t</span><span class="stl_26 stl_09 stl_49" style="word-spacing:0.0068em;">and </span><span class="stl_178 stl_179 stl_92">en</span><span class="stl_178 stl_179 stl_255">d</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0079em;">method invocations. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 39.5339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0007em;">At transaction commit time, these transactional resource managers are &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 40.6939em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0038em;">informed by the transaction manager to prepare, commit, or rollback the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 41.8639em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0088em;">transaction according to the two-phase commit protocol. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 43.0339em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_250">e</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0015em;">interface, in order to be better integrated with the Java &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 44.1939em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0044em;">environment, differs from the standard X/Open XA interface in the following &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 45.3639em; "><span class="stl_26 stl_09 stl_93">ways: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 47.6139em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.301em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0005em;">&nbsp;</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0113em;">resource manager initialization is done implicitly by the resource adapter &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 48.7839em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.001em;">when the resource (connection) is acquired. There is no </span><span class="stl_178 stl_179 stl_92">xa_ope</span><span class="stl_178 stl_179 stl_256">n</span><span class="stl_26 stl_09 stl_90">equivalent &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_124" style="word-spacing:0.0056em;">XARESOURCE INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">19 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0083em;">in the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0056em;">interface. This obviates the need for a resource manager &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0005em;">to provide a different syntax to open a resource for use within the distributed &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0029em;">transaction environment from the syntax used in the environment without dis- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 8.8639em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0031em;">tributed transactions. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 10.2739em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:9.7867em;top: 10.2741em; "><span class="stl_178 stl_179 stl_92">Rmi</span><span class="stl_178 stl_179 stl_257">d</span><span class="stl_26 stl_09 stl_18" style="word-spacing:-0.0327em;">is not passed as an argument. We use an object-oriented approach where &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 11.4439em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:0.0027em;">each </span><span class="stl_178 stl_179 stl_92">Rmi</span><span class="stl_178 stl_179 stl_231">d</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0031em;">is represented by a separate </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_28">object. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 12.8639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.2951em;">• Asynchronous</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0065em;">&nbsp;</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0022em;">operations are not supported. Java supports multi-threaded &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7866em;top: 14.0239em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0071em;">processing and most databases do not support asynchronous operations. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9666em;top: 15.4439em; "><span class="stl_26 stl_09 stl_18" style="word-spacing:0.2985em;">• Error</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0093em;">&nbsp;</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0026em;">return values that are caused by the transaction manager’s improper &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 16.6139em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:0em;">handling of the </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_250">e</span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0011em;">object are mapped to Java exceptions via the &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 17.7741em; "><span class="stl_178 stl_179 stl_92">XAExceptio</span><span class="stl_178 stl_179 stl_214">n</span><span class="stl_26 stl_09 stl_27">class. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 19.1939em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0055em;">&nbsp;</span><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0042em;">DTP concept of</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2613em;">&nbsp;</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0012em;">“Thread of Control” maps to all Java threads that are &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 20.3639em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0058em;">given access to the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_49" style="word-spacing:0.0066em;">and </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">Connection </span><span class="stl_26 stl_09 stl_128" style="word-spacing:-0.0121em;">objects. For example, it &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 21.5239em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0109em;">is legal (although in practice rarely used) for two different Java threads to per- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 22.6939em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0023em;">form the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0034em;">start </span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0134em;">and </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0023em;">end </span><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0053em;">operations on the same </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_44">object. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 24.1139em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.2964em;">• Association</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0062em;">&nbsp;</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0028em;">migration and dynamic registration (optional X/Open XA fea- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 25.2739em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0021em;">tures) are not supported. We’ve omitted these features for a simpler &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 26.4441em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0005em;">interface and simpler resource adapter implementation. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 29.1885em; "><span class="stl_148 stl_99 stl_44">3.4.1 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 29.1885em; "><span class="stl_148 stl_99 stl_204" style="word-spacing:-0.0056em;">Opening a Resource Manager &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 31.0239em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0015em;">The X/Open XA interface specifies that the transaction manager must initialize a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 32.1939em; "><span class="stl_26 stl_09 stl_259" style="word-spacing:-0.0036em;">resource manager (</span><span class="stl_178 stl_179 stl_64">xa_open</span><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0026em;">) prior to any other </span><span class="stl_178 stl_179 stl_92">xa</span><span class="stl_178 stl_179 stl_260">_</span><span class="stl_26 stl_09 stl_261" style="word-spacing:0.0124em;">calls. We believe that the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 33.3639em; "><span class="stl_26 stl_09 stl_259" style="word-spacing:-0.0063em;">knowledge of initializing a resource manager should be embedded within the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 34.5239em; "><span class="stl_26 stl_09 stl_174" style="word-spacing:0.0009em;">resource adapter that represents the resource manager. The transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 35.6939em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:-0.0012em;">does not need to know how to initialize a resource manager. The transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 36.8639em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.019em;">manager is only responsible for informing the resource manager about when to start &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 38.0239em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0001em;">and end work associated with a global transaction and when to complete the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 39.1939em; "><span class="stl_26 stl_09 stl_206">transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 40.3639em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0052em;">The resource adapter is responsible for opening (initializing) the resource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 41.5239em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0006em;">manager when the connection to the resource manager is established. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 44.2685em; "><span class="stl_148 stl_99 stl_44">3.4.2 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 44.2685em; "><span class="stl_148 stl_99 stl_108" style="word-spacing:-0.0063em;">Closing a Resource Manager &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 46.1139em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0012em;">A resource manager is closed by the resource adapter as a result of destroying the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 47.2739em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0004em;">transactional resource. A transaction resource at the resource adapter level is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 48.4439em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0039em;">comprised of two separate objects: &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">20 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 5.2339em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:0.294em;">• An</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0072em;">&nbsp;</span><span class="stl_178 stl_179 stl_64" style="word-spacing:0.0198em;">XAResource </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0026em;">object that allows the transaction manager to start and end &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0008em;">the transaction association with the resource in use and to coordinate transac- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0028em;">tion completion process. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 8.9839em; "><span class="stl_26 stl_09 stl_10" style="word-spacing:0.302em;">• A</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.007em;">&nbsp;</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0023em;">connection object that allows the application to perform operations on the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 10.1539em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0039em;">underlying resource (for example, JDBC operations on an RDBMS). &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 12.4039em; "><span class="stl_26 stl_09 stl_95" style="word-spacing:-0.0332em;">The resource manager, once opened, is kept open until the resource is released &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 13.5639em; "><span class="stl_26 stl_09 stl_68" style="word-spacing:0.0038em;">(closed) explicitly. When the application invokes the connection’s </span><span class="stl_178 stl_179 stl_59">close &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 14.7339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0006em;">method, the resource adapter invalidates the connection object reference that was &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 15.9039em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0038em;">held by the application and notifies the application server about the close. The &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 17.0639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0395em;">transaction manager should invoke the </span><span class="stl_178 stl_179 stl_52" style="word-spacing:-0.0753em;">XAResource.end </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0406em;">method to disassociate &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 18.2339em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0029em;">the transaction from that connection. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 19.4039em; "><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0207em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0034em;">close </span><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0002em;">notification allows the application server to perform any &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 20.5639em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.028em;">necessary cleanup work and to mark the physical XA connection as free for reuse, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 21.7339em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0024em;">if connection pooling is in place. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 24.4785em; "><span class="stl_148 stl_99 stl_44">3.4.3 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 24.4785em; "><span class="stl_148 stl_99 stl_90" style="word-spacing:0.0027em;">Thread of Control &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 26.3139em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0018em;">The X/Open XA interface specifies that the transaction association related </span><span class="stl_178 stl_179 stl_220">x</span><span class="stl_178 stl_179 stl_262">a</span><span class="stl_26 stl_09 stl_181">calls &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 27.4839em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0053em;">must be invoked from the same thread context. This thread-of-control requirement &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 28.6539em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0013em;">is not applicable to the object-oriented component-based application run-time &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 29.8139em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0015em;">environment, in which application threads are dispatched dynamically at method &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 30.9839em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.0028em;">invocation time. Different Java threads may be using the same connection resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 32.1539em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0363em;">to access the resource manager if the connection spans multiple method invocations. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 33.3139em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:-0.0015em;">Depending on the implementation of the application server, different Java threads &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 34.4839em; "><span class="stl_26 stl_09 stl_35" style="word-spacing:-0.0041em;">may be involved with the same </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_263">e</span><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0034em;">object. The resource context and the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 35.6539em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0058em;">transaction context may be operated independent of thread context. This means, for &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 36.8139em; "><span class="stl_26 stl_09 stl_208" style="word-spacing:-0.0014em;">example, that it’s possible for different threads to be invoking the &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:6.0367em;top: 37.9841em; "><span class="stl_178 stl_179 stl_95">XAResource.star</span><span class="stl_178 stl_179 stl_264">t</span><span class="stl_26 stl_09 stl_239" style="word-spacing:-0.0182em;">and </span><span class="stl_178 stl_179 stl_52">XAResource.en</span><span class="stl_178 stl_179 stl_265">d</span><span class="stl_26 stl_09 stl_35">methods. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 39.1539em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0011em;">If the application server allows multiple threads to use a single </span><span class="stl_178 stl_179 stl_92">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 40.3139em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0027em;">object and the associated connection to the resource manager, it is the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 41.4839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0052em;">responsibility of the application server to ensure that there is only one transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 42.6539em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0009em;">context associated with the resource at any point of time. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 43.8239em; "><span class="stl_26 stl_09 stl_216" style="word-spacing:-0.0063em;">Thus, the </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_266">e</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0004em;">interface specified in this document requires that the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 44.9839em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0001em;">resource managers be able to support the two-phase commit protocol from any &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 46.1539em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0083em;">thread context. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_07.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_07.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_124" style="word-spacing:0.0056em;">XARESOURCE INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">21 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 5.3585em; "><span class="stl_148 stl_99 stl_44">3.4.4 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 5.3585em; "><span class="stl_148 stl_99 stl_102" style="word-spacing:0.0019em;">Transaction Association &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 7.1939em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0015em;">Global transactions are associated with a transactional resource via the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 8.3641em; "><span class="stl_178 stl_179 stl_95" style="word-spacing:0.0102em;">XAResource.start </span><span class="stl_26 stl_09 stl_145" style="word-spacing:0.0014em;">method, and disassociated from the resource via the &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 9.5241em; "><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0092em;">XAResource.end </span><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0015em;">method. The resource adapter is responsible for internally &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 10.6939em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:0.0002em;">maintaining an association between the resource connection object and the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 11.8641em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0022em;">object. At any given time, a connection is associated with a single &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 13.0239em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0006em;">transaction or it is not associated with any transaction at all. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7866em;top: 14.1939em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0014em;">Interleaving multiple transaction contexts using the same resource may be &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 15.3639em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0039em;">done by the transaction manager as long as </span><span class="stl_178 stl_179 stl_95" style="word-spacing:0.0222em;">XAResource.start </span><span class="stl_26 stl_09 stl_203">and &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 16.5241em; "><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0213em;">XAResource.end </span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0014em;">are invoked properly for each transaction context switch. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 17.6939em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0027em;">Each time the resource is used with a different transaction, the method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 18.8641em; "><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0213em;">XAResource.end </span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0023em;">must be invoked for the previous transaction that was &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 20.0239em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0021em;">associated with the resource, and </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0098em;">XAResource.start </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0018em;">must be invoked for the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 21.1939em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0013em;">current transaction context. &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:9.7867em;top: 22.3641em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0049em;">does not support nested transactions. It is an error for the &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:8.2867em;top: 23.5241em; "><span class="stl_178 stl_179 stl_95" style="word-spacing:0.0222em;">XAResource.start </span><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0041em;">method to be invoked on a connection that is currently &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 24.6939em; "><span class="stl_26 stl_09 stl_52" style="word-spacing:0.0028em;">associated with a different transaction. &nbsp;</span></div>
					<div class="stl_01 stl_103" style="left:8.3167em;top: 27.596em; "><span class="stl_104 stl_99 stl_198" style="word-spacing:0.0159em;">Table 1: Transaction Association &nbsp;</span></div>
					<div class="stl_01 stl_267" style="left:19.4267em;top: 29.565em; "><span class="stl_268 stl_269 stl_270" style="word-spacing:0.069em;">XAResource Transaction States &nbsp;</span></div>
					<div class="stl_01 stl_267" style="left:19.4267em;top: 31.315em; "><span class="stl_268 stl_269 stl_129">Not &nbsp;</span></div>
					<div class="stl_01 stl_271" style="left:19.4267em;top: 32.315em; "><span class="stl_268 stl_269 stl_272">Associated &nbsp;</span></div>
					<div class="stl_01 stl_166" style="left:19.4267em;top: 33.315em; "><span class="stl_268 stl_269 stl_273">T</span><sub style="top: 0.21em;"><span class="stl_274 stl_269 stl_275">0 &nbsp;</span></sub></div>
					<div class="stl_01 stl_267" style="left:25.8767em;top: 31.315em; "><span class="stl_268 stl_269 stl_272">Associated &nbsp;</span></div>
					<div class="stl_01 stl_276" style="left:25.8767em;top: 33.315em; "><span class="stl_268 stl_269 stl_273">T</span><sub style="top: 0.21em;"><span class="stl_274 stl_269 stl_275">1 &nbsp;</span></sub></div>
					<div class="stl_01 stl_267" style="left:32.3267em;top: 31.315em; "><span class="stl_268 stl_269 stl_67">Association &nbsp;</span></div>
					<div class="stl_01 stl_271" style="left:32.3267em;top: 32.315em; "><span class="stl_268 stl_269 stl_277">Suspended &nbsp;</span></div>
					<div class="stl_01 stl_166" style="left:32.3267em;top: 33.315em; "><span class="stl_268 stl_269 stl_223">T</span><sub style="top: 0.21em;"><span class="stl_274 stl_269 stl_113">2 &nbsp;</span></sub></div>
					<div class="stl_01 stl_267" style="left:8.8167em;top: 31.485em; "><span class="stl_268 stl_269 stl_278">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_271" style="left:8.8167em;top: 32.485em; "><span class="stl_268 stl_269 stl_279">Methods &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:8.8167em;top: 35.1264em; "><span class="stl_178 stl_179 stl_92">start() &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:19.4267em;top: 35.109em; "><span class="stl_08 stl_09 stl_273">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_275">1 &nbsp;</span></sub></div>
					<div class="stl_01 stl_183" style="left:8.8167em;top: 36.7964em; "><span class="stl_178 stl_179 stl_92">start(TMRESUME) &nbsp;</span></div>
					<div class="stl_01 stl_281" style="left:8.8167em;top: 38.4564em; "><span class="stl_178 stl_179 stl_92">start(TMJOIN) &nbsp;</span></div>
					<div class="stl_01 stl_282" style="left:8.8167em;top: 40.1264em; "><span class="stl_178 stl_179 stl_92">end(TMSUSPEND) &nbsp;</span></div>
					<div class="stl_01 stl_282" style="left:8.8167em;top: 41.7964em; "><span class="stl_178 stl_179 stl_92">end(TMFAIL) &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:32.3267em;top: 36.779em; "><span class="stl_08 stl_09 stl_223">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_113">1 &nbsp;</span></sub></div>
					<div class="stl_01 stl_07" style="left:19.4267em;top: 38.439em; "><span class="stl_08 stl_09 stl_273">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_275">1 &nbsp;</span></sub></div>
					<div class="stl_01 stl_07" style="left:25.8766em;top: 40.109em; "><span class="stl_08 stl_09 stl_283">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_284">2 &nbsp;</span></sub></div>
					<div class="stl_01 stl_282" style="left:25.8766em;top: 41.779em; "><span class="stl_08 stl_09 stl_283">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_284">0 &nbsp;</span></sub></div>
					<div class="stl_01 stl_281" style="left:25.8766em;top: 43.439em; "><span class="stl_08 stl_09 stl_283">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_284">0 &nbsp;</span></sub></div>
					<div class="stl_01 stl_07" style="left:32.3267em;top: 41.779em; "><span class="stl_08 stl_09 stl_223">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_113">0 &nbsp;</span></sub></div>
					<div class="stl_01 stl_281" style="left:32.3267em;top: 43.439em; "><span class="stl_08 stl_09 stl_223">T</span><sub style="top: 0.21em;"><span class="stl_280 stl_09 stl_113">0 &nbsp;</span></sub></div>
					<div class="stl_01 stl_183" style="left:8.8167em;top: 43.4564em; "><span class="stl_178 stl_179 stl_92">end(TMSUCCESS) &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">22 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 5.2285em; "><span class="stl_148 stl_99 stl_44">3.4.5 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 5.2285em; "><span class="stl_148 stl_99 stl_40" style="word-spacing:0.0019em;">Externally Controlled connections &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 7.0639em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0021em;">Resources for transactional applications, whose transaction states are managed by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 8.2339em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0052em;">an application server, must also be managed by the application server so that &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 9.4039em; "><span class="stl_26 stl_09 stl_285" style="word-spacing:0.0002em;">transaction association is performed properly. If an application is associated with a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 10.5639em; "><span class="stl_26 stl_09 stl_195" style="word-spacing:0.003em;">global transaction, it is an error for the application to perform transactional work &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 11.7339em; "><span class="stl_26 stl_09 stl_286" style="word-spacing:0.0028em;">through the connection without having the connection’s resource object already &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 12.9039em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.001em;">associated with the global transaction. The application server must ensure that the &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:6.0367em;top: 14.0641em; "><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_174" style="word-spacing:0.0036em;">object in use is associated with the transaction. This is done by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 15.2339em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0049em;">invoking the </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0032em;">Transaction.enlistResource </span><span class="stl_26 stl_09 stl_225">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 16.4039em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0333em;">If a server-side transactional application retains its database connection across &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 17.5639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0em;">multiple client requests, the application server must ensure, before dispatching a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 18.7339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0006em;">client request to the application thread, that the resource is enlisted with the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 19.9039em; "><span class="stl_26 stl_09 stl_52" style="word-spacing:0.0017em;">application’s current transaction context. This implies that the application server &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 21.0639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0033em;">manages the connection resource usage status across multiple method &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 22.2339em; "><span class="stl_26 stl_09 stl_27">invocations. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 24.9785em; "><span class="stl_148 stl_99 stl_44">3.4.6 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 24.9785em; "><span class="stl_148 stl_99 stl_92" style="word-spacing:0.004em;">Resource Sharing &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 26.8139em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0015em;">When the same transactional resource is used to interleave multiple transactions, it &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 27.9839em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0023em;">is the responsibility of the application server to ensure that only one transaction is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 29.1539em; "><span class="stl_26 stl_09 stl_174" style="word-spacing:-0.0003em;">enlisted with the resource at any given time. To initiate the transaction commit &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 30.3139em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0038em;">process, the transaction manager is allowed to use any of the resource objects &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 31.4839em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0038em;">connected to the same resource manager instance. The resource object used for the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 32.6539em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0003em;">two-phase commit protocol need not have been involved with the transaction being &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 33.8139em; "><span class="stl_26 stl_09 stl_219">completed. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 34.9839em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0026em;">The resource adapter must be able to handle multiple threads invoking the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 36.1541em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.003em;">methods concurrently for transaction commit processing. For &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 37.3139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0009em;">example, suppose we have a transactional resource </span><span class="stl_178 stl_179 stl_116">r1</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0049em;">. Global transaction </span><span class="stl_178 stl_179 stl_92">xid1 &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 38.4839em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0007em;">was </span><span class="stl_191 stl_192 stl_121" style="word-spacing:-0.009em;">started </span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0132em;">and </span><span class="stl_191 stl_192 stl_133" style="word-spacing:0.0023em;">ended </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0075em;">with </span><span class="stl_178 stl_179 stl_116">r1</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0034em;">. Then a different global transaction </span><span class="stl_178 stl_179 stl_92">xid</span><span class="stl_178 stl_179 stl_231">2</span><span class="stl_26 stl_09 stl_74">is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 39.6539em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0038em;">associated with </span><span class="stl_178 stl_179 stl_116">r1</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0017em;">. Meanwhile, the transaction manager may start the two-phase &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 40.8139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0025em;">commit process for </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0213em;">xid1 </span><span class="stl_26 stl_09 stl_18" style="word-spacing:0.0058em;">using </span><span class="stl_178 stl_179 stl_92">r</span><span class="stl_178 stl_179 stl_287">1</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0063em;">or any other transactional resource connected &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 41.9839em; "><span class="stl_26 stl_09 stl_42" style="word-spacing:0.0055em;">to the same resource manager. The resource adapter needs to allow the commit &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 43.1539em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0042em;">process to be executed while the resource is currently associated with a different &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 44.3239em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0059em;">global transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 45.4839em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0016em;">The sample code below illustrates the above scenario: &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_124" style="word-spacing:0.0056em;">XARESOURCE INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">23 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 5.359em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:0em;">// Suppose we have some transactional connection-based &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 6.529em; "><span class="stl_08 stl_09 stl_45" style="word-spacing:-0.0003em;">// resource r1 that is connected to an enterprise &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7866em;top: 7.689em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0025em;">// information service system. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 8.859em; "><span class="stl_08 stl_09 stl_10">// &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 10.029em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:-0.0007em;">XAResource xares = r1.getXAResource(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 12.359em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0001em;">xares.start(xid1); // associate xid1 to the connection &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 13.529em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 14.689em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0021em;">xares.end(xid1); // dissociate xid1 frm the connection &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 15.859em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 18.189em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0001em;">xares.start(xid2); // associate xid2 to the connection &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 19.359em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 21.689em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0006em;">// While the connection is associated with xid2, &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 22.859em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0009em;">// the transaction manager starts the commit process &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 24.029em; "><span class="stl_08 stl_09 stl_61" style="word-spacing:0.0048em;">// for xid1 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 25.189em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:-0.0006em;">status = xares.prepare(xid1); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 26.359em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 27.529em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0094em;">xares.commit(xid1, false); &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 30.2685em; "><span class="stl_148 stl_99 stl_44">3.4.7 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 30.2685em; "><span class="stl_148 stl_99 stl_28" style="word-spacing:-0.004em;">Local and Global Transactions &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 32.1139em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0002em;">The resource adapter is encouraged to support the usage of both local and global &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 33.2739em; "><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0004em;">transactions within the same transactional connection. Local transactions are &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 34.4439em; "><span class="stl_26 stl_09 stl_196" style="word-spacing:-0.0238em;">transactions that are started and coordinated by the resource manager internally. The &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 35.6141em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0031em;">interface is not used for local transactions. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 36.7739em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0023em;">When using the same connection to perform both local and global &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 37.9439em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0033em;">transactions, the following rules apply: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 40.1939em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0055em;">&nbsp;</span><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0014em;">local transaction must be committed (or rolled back) before starting a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 41.3639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0052em;">global transaction in the connection. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9666em;top: 42.7739em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• The</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0055em;">&nbsp;</span><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0001em;">global transaction must be disassociated from the connection before any &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 43.9439em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0029em;">local transaction is started. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7866em;top: 46.1939em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0005em;">If a resource adapter does not support mixing local and global transactions &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 47.3639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0031em;">within the same connection, the resource adapter should throw the resource &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 48.5239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0006em;">specific exception. For example, </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0006em;">java.sql.SQLException </span><span class="stl_26 stl_09 stl_76" style="word-spacing:0.0067em;">is thrown to the &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">24 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0056em;">application if the resource manager for the underlying RDBMS does not support &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0004em;">mixing local and global transactions within the same JDBC connection. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0367em;top: 9.1485em; "><span class="stl_148 stl_99 stl_44">3.4.8 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 9.1485em; "><span class="stl_148 stl_99 stl_40" style="word-spacing:0.0034em;">Failure Recovery &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 10.9839em; "><span class="stl_26 stl_09 stl_208" style="word-spacing:0.002em;">During recovery, the transaction manager must be able to communicate to all &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 12.1539em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.0023em;">resource managers that are in use by the applications in the system. For each &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 13.3139em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:-0.0044em;">resource manager, the transaction manager uses the </span><span class="stl_178 stl_179 stl_92">XAResource.recover &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 14.4839em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:0.0016em;">method to retrieve the list of transactions that are currently in a prepared or &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 15.6539em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0045em;">heuristically completed state. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 16.8139em; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0053em;">Typically, the system administrator configures all transactional resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 17.9839em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0088em;">factories that are used by the applications deployed on the system. An example of &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 19.1539em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0017em;">such a resource factory is the JDBC </span><span class="stl_178 stl_179 stl_44" style="word-spacing:0.0205em;">XADataSource </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0007em;">object, which is a factory &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 20.3139em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0261em;">for the JDBC </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.077em;">XAConnection </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0318em;">objects. The implementation of these transactional &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 21.4839em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0021em;">resource factory objects are both </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0274em;">javax.naming.Referenceable </span><span class="stl_26 stl_09 stl_49">and &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 22.6541em; "><span class="stl_178 stl_179 stl_57" style="word-spacing:0.0242em;">java.io.Serializable </span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0039em;">so that they can be stored in all JNDI naming &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 23.8139em; "><span class="stl_26 stl_09 stl_102">contexts. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 24.9839em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0054em;">Because </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_266">e</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0039em;">objects are not persistent across system failures, the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 26.1539em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0292em;">transaction manager needs to have some way to acquire the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.054em;">XAResource </span><span class="stl_26 stl_09 stl_28">objects &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 27.3139em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0018em;">that represent the resource managers which might have participated in the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 28.4839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0413em;">transactions prior to the system failure. For example, a transaction manager might, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 29.6539em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0031em;">through the use of the JNDI lookup mechanism and cooperation from the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 30.8139em; "><span class="stl_26 stl_09 stl_76" style="word-spacing:0.0062em;">application server, acquire an </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_250">e</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0016em;">object representing each of the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 31.9839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0008em;">resource managers configured in the system. The transaction manager then &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 33.1539em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0025em;">invokes the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0012em;">XAResource.recover </span><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0056em;">method to ask each resource manager to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 34.3139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0015em;">return any transactions that are currently in a prepared or heuristically completed &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 35.4839em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0007em;">state. It is the responsibility of the transaction manager to ignore transactions that &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 36.6539em; "><span class="stl_26 stl_09 stl_288" style="word-spacing:-0.0105em;">do not belong to it. &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:6.0366em;top: 39.3985em; "><span class="stl_148 stl_99 stl_44">3.4.9 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:12.0356em;top: 39.3985em; "><span class="stl_148 stl_99 stl_27" style="word-spacing:0.0032em;">Identifying Resource Manager Instance &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 41.2339em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0069em;">isSameRM </span><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0013em;">method is invoked by the transaction manager to determine if the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 42.4039em; "><span class="stl_26 stl_09 stl_289" style="word-spacing:0.0051em;">target </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.006em;">object represents the same resource manager instance as that &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 43.5639em; "><span class="stl_26 stl_09 stl_211" style="word-spacing:-0.0073em;">represented by the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_290" style="word-spacing:0.0014em;">object in the parameter. The </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0069em;">isSameRM </span><span class="stl_26 stl_09 stl_291">method &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 44.7339em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0022em;">returns </span><span class="stl_191 stl_192 stl_209" style="word-spacing:0.0008em;">true </span><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.004em;">if the specified target object is connected to the same resource manager &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 45.9039em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0029em;">instance; otherwise, the method returns </span><span class="stl_191 stl_192 stl_259">false</span><span class="stl_26 stl_09 stl_181" style="word-spacing:-0.0034em;">. The semi-pseudo code below &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 47.0739em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:0.0028em;">illustrates the intended usage. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:29.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_124" style="word-spacing:0.0056em;">XARESOURCE INTERFACE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">25 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 5.359em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0014em;">public boolean enlistResource(XAResource xares) &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 6.529em; "><span class="stl_08 stl_09 stl_21">{.. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 8.859em; "><span class="stl_08 stl_09 stl_114" style="word-spacing:-0.0043em;">// Assuming xid1 is the target transaction and &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 10.029em; "><span class="stl_08 stl_09 stl_42" style="word-spacing:0.0024em;">// xid1 already has another resource object xaRes1 &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7866em;top: 11.189em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0006em;">// participating in the transaction &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 13.529em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.001em;">boolean sameRM = xares.isSameRM(xaRes1); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 14.689em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0045em;">if (sameRM) { &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 15.859em; "><span class="stl_08 stl_09 stl_10">// &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 17.029em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:-0.0032em;">// Same underlying resource manager instance, &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 18.189em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0013em;">// group together with xaRes1 and join the transaction &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 19.359em; "><span class="stl_08 stl_09 stl_10">// &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 20.529em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0097em;">xares.start(xid1, TMJOIN); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 21.689em; "><span class="stl_08 stl_09 stl_10" style="word-spacing:0.005em;">} else { &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 22.859em; "><span class="stl_08 stl_09 stl_10">// &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 24.029em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0008em;">// This is a different resource manager instance, &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 25.189em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0014em;">// make a new transaction branch for xid1 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 26.359em; "><span class="stl_08 stl_09 stl_10">// &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 27.529em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:-0.0002em;">Xid xid1NewBranch = makeNewBranch(xid1); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 28.689em; "><span class="stl_08 stl_09 stl_21" style="word-spacing:0.0011em;">xares.start(xid1NewBranch, TMNOFLAGS); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 29.859em; "><span class="stl_08 stl_09 stl_10">}</span></div>
					<div class="stl_01 stl_22" style="left:9.7866em;top: 31.029em; "><span class="stl_08 stl_09 stl_92">.. &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7866em;top: 32.189em; "><span class="stl_08 stl_09 stl_10">}</span></div>
					<div class="stl_01 stl_212" style="left:8.2867em;top: 34.9385em; "><span class="stl_148 stl_99 stl_122">3.4.10 &nbsp;</span></div>
					<div class="stl_01 stl_212" style="left:14.2856em;top: 34.9385em; "><span class="stl_148 stl_99 stl_90" style="word-spacing:0.0032em;">Dynamic Registration &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 36.7739em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0064em;">Dynamic registration is not supported in </span><span class="stl_178 stl_179 stl_64">XAResourc</span><span class="stl_178 stl_179 stl_292">e</span><span class="stl_26 stl_09 stl_81" style="word-spacing:-0.0065em;">because of the following &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 37.9439em; "><span class="stl_26 stl_09 stl_221">reasons: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 40.1939em; "><span class="stl_26 stl_09 stl_74" style="word-spacing:0.306em;">• In</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.011em;">&nbsp;</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0022em;">the Java component-based application server environment, connections to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 41.3639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0627em;">the resource manager are acquired dynamically when the application explicitly &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 42.5239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0009em;">requests for a connection. These resources are enlisted with the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 43.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0001em;">manager on an “as-needed” basis (unlike the static </span><span class="stl_178 stl_179 stl_92">xa_switc</span><span class="stl_178 stl_179 stl_293">h</span><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0004em;">table that ex- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 44.8639em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0044em;">ists in the C-XA procedural model). &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 46.2739em; "><span class="stl_26 stl_09 stl_74" style="word-spacing:0.306em;">• If</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.013em;">&nbsp;</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0024em;">a resource manager requires a way to dynamically register its work to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 47.4439em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0646em;">global transaction, then the implementation can be done at the resource adapter &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 48.6139em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0034em;">level via a private interface between the resource adapter and the underlying &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">26 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0039em;">resource manager. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 8.3905em; "><span class="stl_150 stl_99 stl_10">3.5 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 8.3905em; "><span class="stl_150 stl_99 stl_43" style="word-spacing:-0.0028em;">Xid Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 10.7339em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92">javax.transaction.xa.Xi</span><span class="stl_178 stl_179 stl_260">d</span><span class="stl_26 stl_09 stl_221" style="word-spacing:0.0011em;">interface is a Java mapping of the X/Open &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 11.9039em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0011em;">transaction identifier XID structure. This interface specifies three accessor methods &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 13.0639em; "><span class="stl_26 stl_09 stl_208" style="word-spacing:0.0028em;">which are used to retrieve a global transaction’s format ID, a global transaction ID, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 14.2339em; "><span class="stl_26 stl_09 stl_147" style="word-spacing:-0.0105em;">and a branch qualifier. The </span><span class="stl_178 stl_179 stl_92">Xi</span><span class="stl_178 stl_179 stl_294">d</span><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0193em;">interface is used by the transaction manager and the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 15.4039em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0048em;">resource managers. This interface is not visible to the application programs nor the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 16.5639em; z-index:402; "><span class="stl_26 stl_09 stl_147" style="word-spacing:0.0085em;">application server. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 19.7205em; "><span class="stl_150 stl_99 stl_10">3.6 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 19.7205em; "><span class="stl_150 stl_99 stl_23" style="word-spacing:-0.0023em;">TransactionSynchronizationRegistry Interface &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 22.0639em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_40">javax.transaction.TransactionSynchronizationRegistry &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 23.2339em; "><span class="stl_26 stl_09 stl_206" style="word-spacing:0.0015em;">interface is intended for use by system level application server components such as &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 24.4039em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0058em;">persistence managers. This provides the ability to register synchronization objects &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 25.5639em; "><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0076em;">with special ordering semantics, associate resource objects with the current &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 26.7339em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0002em;">transaction, get the transaction context of the current transaction, get current &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 27.9039em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0017em;">transaction status, and mark the current transaction for rollback. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 29.0639em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0015em;">This interface is implemented by the application server as a stateless service &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 30.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0188em;">object. The same object can be used by any number of components with complete &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 31.4039em; "><span class="stl_26 stl_09 stl_45" style="word-spacing:0.0022em;">thread safety. In standard application server environments, an instance &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 32.5639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0005em;">implementing this interface can be looked up via JNDI using a standard name. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5368em;top: 33.7339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0021em;">The user of </span><span class="stl_178 stl_179 stl_45" style="word-spacing:0.0201em;">getResource </span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0134em;">and </span><span class="stl_178 stl_179 stl_92">putResourc</span><span class="stl_178 stl_179 stl_228">e</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0042em;">methods is a library &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 34.9039em; "><span class="stl_26 stl_09 stl_52" style="word-spacing:0.0019em;">component that manages transaction-specific data on behalf of a caller. The &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 36.0639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0001em;">transaction-specific data provided by the caller is not immediately flushed to a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 37.2339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0075em;">transaction-enlisted resource, but instead is cached. The cached data is stored in a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 38.4039em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0011em;">transaction-related data structure that is in a zero-or-one-to-one relationship with &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 39.5639em; z-index:1469; "><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0073em;">the transactional context of the caller. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 40.7339em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0124em;">An efficient way to manage such a transaction-related data structure is for the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 41.9039em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0292em;">implementation of the </span><span class="stl_178 stl_179 stl_114">TransactionSynchronizationRegistr</span><span class="stl_178 stl_179 stl_295">y</span><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0282em;">to manage a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 43.0639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0023em;">Map for each transaction as part of the transaction state. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 44.2339em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0021em;">The keys of this </span><span class="stl_08 stl_09 stl_92" style="word-spacing:0.0172em;">Map </span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0005em;">are objects that are provided by the library components &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 45.4039em; "><span class="stl_26 stl_09 stl_87" style="word-spacing:-0.0061em;">(users of the API). The values of the Map are any values that the library &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 46.5739em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0073em;">components are</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2594em;">&nbsp;</span><span class="stl_26 stl_09 stl_90" style="word-spacing:0.2452em;">interested in</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0056em;">&nbsp;</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0054em;">storing, for example the transaction-related data &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 47.7339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0022em;">structures. This </span><span class="stl_08 stl_09 stl_92" style="word-spacing:0.0293em;">Map </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.003em;">has no concurrency issues since it is a dedicated instance for &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:27.9666em;top: 2.6159em; "><span class="stl_155 stl_09 stl_296" style="word-spacing:-0.0094em;">TRANSACTIONAL ANNOTATION &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">27 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0004em;">the transaction. When the transaction completes, the Map is cleared, releasing &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0033em;">resources for garbage collection. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0127em;">The scalability of the library code is significantly enhanced by the addition of &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 8.8639em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0064em;">the </span><span class="stl_178 stl_179 stl_45">getResourc</span><span class="stl_178 stl_179 stl_297">e</span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0132em;">and </span><span class="stl_178 stl_179 stl_92">putResourc</span><span class="stl_178 stl_179 stl_228">e</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0017em;">methods to the &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:8.2867em;top: 10.0964em; "><span class="stl_178 stl_179 stl_114">TransactionSynchronizationRegistry &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:25.2267em;top: 10.0239em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 13.1805em; "><span class="stl_150 stl_99 stl_10">3.7 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 13.1805em; "><span class="stl_150 stl_99 stl_68" style="word-spacing:-0.0021em;">Transactional Annotation &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 15.5239em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92">javax.transaction.Transactiona</span><span class="stl_178 stl_179 stl_298">l</span><span class="stl_26 stl_09 stl_152" style="word-spacing:0.0032em;">annotation provides the &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2866em;top: 16.6939em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0021em;">application the ability to declaratively control transaction boundaries on CDI &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 17.8639em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0027em;">managed beans, as well as classes defined as managed beans by the Java EE &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 19.0239em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:0em;">specification, at both the class and method level where method level annotations &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 20.1939em; "><span class="stl_26 stl_09 stl_19" style="word-spacing:-0.0045em;">override those at the class level. See the EJB specification for restrictions on the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 21.3639em; "><span class="stl_26 stl_09 stl_24" style="word-spacing:0.0169em;">use of </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0035em;">@Transactional </span><span class="stl_26 stl_09 stl_75" style="word-spacing:-0.0016em;">with EJBs. This support is provided via an &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 22.5239em; "><span class="stl_26 stl_09 stl_259" style="word-spacing:-0.009em;">implementation of CDI interceptors that conduct the necessary suspending, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 23.6939em; "><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0045em;">resuming, etc. The </span><span class="stl_178 stl_179 stl_55">Transactiona</span><span class="stl_178 stl_179 stl_299">l</span><span class="stl_26 stl_09 stl_221" style="word-spacing:0.0026em;">interceptor interposes on business method &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 24.8639em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0022em;">invocations only and not on lifecycle events.</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2709em;">&nbsp;</span><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0005em;">Lifecycle methods are invoked in an &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 26.0239em; "><span class="stl_26 stl_09 stl_221" style="word-spacing:-0.0029em;">unspecified transaction context. If an attempt is made to call any method of the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 27.1941em; "><span class="stl_178 stl_179 stl_52">UserTransactio</span><span class="stl_178 stl_179 stl_300">n</span><span class="stl_26 stl_09 stl_196" style="word-spacing:-0.008em;">interface from within the scope of a bean or method annotated &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 28.3639em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0108em;">with </span><span class="stl_178 stl_179 stl_92">@Transactiona</span><span class="stl_178 stl_179 stl_301">l</span><span class="stl_26 stl_09 stl_239" style="word-spacing:-0.0058em;">and a </span><span class="stl_178 stl_179 stl_57">Transactional.TxTyp</span><span class="stl_178 stl_179 stl_302">e</span><span class="stl_26 stl_09 stl_221" style="word-spacing:0.0036em;">other than &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 29.5241em; "><span class="stl_178 stl_179 stl_55" style="word-spacing:0.0209em;">NOT_SUPPORTED </span><span class="stl_26 stl_09 stl_303" style="word-spacing:-0.014em;">or </span><span class="stl_178 stl_179 stl_116">NEVER</span><span class="stl_26 stl_09 stl_304" style="word-spacing:0.0193em;">, an </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0006em;">IllegalStateException </span><span class="stl_26 stl_09 stl_81" style="word-spacing:-0.0046em;">must be thrown. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 30.6939em; "><span class="stl_26 stl_09 stl_181" style="word-spacing:-0.0043em;">The use of the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0029em;">UserTransaction </span><span class="stl_26 stl_09 stl_219" style="word-spacing:-0.0012em;">is allowed within life cycle events. The use of &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 31.8639em; "><span class="stl_26 stl_09 stl_305" style="word-spacing:0.0153em;">the </span><span class="stl_178 stl_179 stl_114" style="word-spacing:0.0197em;">TransactionSynchronizationRegistry </span><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0007em;">is allowed regardless of any &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 33.0241em; "><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0213em;">@Transactional </span><span class="stl_26 stl_09 stl_197">annotation</span><span class="stl_306 stl_307 stl_21">.</span><span class="stl_26 stl_09 stl_54" style="word-spacing:0.0097em;">The </span><span class="stl_178 stl_179 stl_92">Transactiona</span><span class="stl_178 stl_179 stl_205">l</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0039em;">interceptors must have a &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 34.1939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.002em;">priority of </span><span class="stl_178 stl_179 stl_40">Interceptor.Priority.PLATFORM_BEFORE+200</span><span class="stl_308 stl_09 stl_10" style="word-spacing:0.0065em;">. </span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.003em;">Refer to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 35.3639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0012em;">Interceptors specification for more details. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 36.5239em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0007em;">The </span><span class="stl_178 stl_179 stl_92">TxTyp</span><span class="stl_178 stl_179 stl_309">e</span><span class="stl_26 stl_09 stl_102" style="word-spacing:0em;">element of the annotation indicates whether a bean method is to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 37.6939em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0063em;">be executed within a transaction context where the values provide the following &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 38.8639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0006em;">corresponding behavior and </span><span class="stl_178 stl_179 stl_52" style="word-spacing:0.0218em;">TxType.REQUIRED </span><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0084em;">is the default: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 41.1139em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:9.7867em;top: 41.1141em; "><span class="stl_178 stl_179 stl_116">TxType.REQUIRED</span><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0028em;">: If called outside a transaction context, the interceptor &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 42.2739em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0077em;">must begin a new JTA transaction, the managed bean method execution must &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 43.4439em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0184em;">then continue inside this transaction context, and the transaction must be com- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 44.6139em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0002em;">pleted by the interceptor. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 46.0239em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.004em;">If called inside a transaction context, the managed bean method execution &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 47.1939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0021em;">must then continue inside this transaction context. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">28 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 5.2339em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 5.2341em; "><span class="stl_178 stl_179 stl_18">TxType.REQUIRES_NEW</span><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0008em;">: If called outside a transaction context, the inter- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:-0.0017em;">ceptor must begin a new JTA transaction, the managed bean method execu- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0011em;">tion must then continue inside this transaction context, and the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 8.7339em; z-index:225; "><span class="stl_26 stl_09 stl_13" style="word-spacing:0.0036em;">must be completed by the interceptor. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 10.1539em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0038em;">If called inside a transaction context, the current transaction context must be &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 11.3139em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0001em;">suspended, a new JTA transaction will begin, the managed bean method exe- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 12.4839em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0187em;">cution must then continue inside this transaction context, the transaction must &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 13.6539em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0025em;">be completed, and the previously suspended transaction must be resumed. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 15.3139em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 15.3141em; z-index:503; "><span class="stl_178 stl_179 stl_310">TxType.MANDATORY</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0036em;">: If called outside a transaction context, a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 16.4841em; "><span class="stl_178 stl_179 stl_21">TransactionalExceptio</span><span class="stl_178 stl_179 stl_193">n</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0018em;">with a nested &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 17.6541em; "><span class="stl_178 stl_179 stl_29">TransactionRequiredExceptio</span><span class="stl_178 stl_179 stl_311">n</span><span class="stl_26 stl_09 stl_288" style="word-spacing:-0.0095em;">must be thrown. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 19.0639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0019em;">If called inside a transaction context, managed bean method execution will &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 20.2339em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0049em;">then continue under that context. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 21.9039em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_312" style="left:6.7167em;top: 27.3139em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 21.9041em; "><span class="stl_178 stl_179 stl_116">TxType.SUPPORTS</span><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0008em;">: If called outside a transaction context, managed bean &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 23.0639em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0042em;">method execution must then continue outside a transaction context. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 24.4839em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.004em;">If called inside a transaction context, the managed bean method execution &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 25.6539em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0015em;">must then continue inside this transaction context. &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 27.3141em; "><span class="stl_178 stl_179 stl_116">TxType.NOT_SUPPORTED</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0013em;">: If called outside a transaction context, managed &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 28.4839em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0001em;">bean method execution must then continue outside a transaction context. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 29.9039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0038em;">If called inside a transaction context, the current transaction context must be &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5366em;top: 31.0639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0101em;">suspended, the managed bean method execution must then continue outside a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 32.2339em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0016em;">transaction context, and the previously suspended transaction must be &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 33.4039em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0001em;">resumed by the interceptor that suspended it after the method execution has &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5366em;top: 34.5639em; "><span class="stl_26 stl_09 stl_102">completed. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 36.2339em; "><span class="stl_26 stl_09 stl_10">•</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 36.2341em; "><span class="stl_178 stl_179 stl_116">TxType.NEVER</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0018em;">: If called outside a transaction context, managed bean meth- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 37.4039em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0011em;">od execution must then continue outside a transaction context. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 38.8139em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0013em;">If called inside a transaction context, a </span><span class="stl_178 stl_179 stl_21">TransactionalExceptio</span><span class="stl_178 stl_179 stl_313">n</span><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0023em;">with a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 39.9839em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0036em;">nested </span><span class="stl_178 stl_179 stl_29">InvalidTransactionExceptio</span><span class="stl_178 stl_179 stl_314">n</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0021em;">must be thrown &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 41.6539em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0003em;">By default checked exceptions do not result in the transactional interceptor &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 42.8139em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0547em;">marking the transaction for rollback and instances of </span><span class="stl_178 stl_179 stl_95">RuntimeExceptio</span><span class="stl_178 stl_179 stl_315">n</span><span class="stl_26 stl_09 stl_202" style="word-spacing:-0.0645em;">and its &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 43.9839em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0055em;">subclasses do. This default behavior can be modified by specifying exceptions &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 45.1539em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0441em;">that result in the interceptor marking the transaction for rollback and/or exceptions &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 46.3239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0008em;">that do not result in rollback. The </span><span class="stl_178 stl_179 stl_92">rollbackO</span><span class="stl_178 stl_179 stl_263">n</span><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0064em;">element can be set to indicate &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 47.4839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">exceptions that must cause the interceptor to mark the transaction for rollback. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 48.6539em; "><span class="stl_26 stl_09 stl_62" style="word-spacing:0.0129em;">Conversely, the </span><span class="stl_178 stl_179 stl_92">dontRollbackO</span><span class="stl_178 stl_179 stl_316">n</span><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0033em;">element can be set to indicate exceptions that &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:26.2967em;top: 2.6159em; "><span class="stl_155 stl_09 stl_203" style="word-spacing:0.001em;">TRANSACTIONSCOPED ANNOTATION &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">29 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.039em;">must not cause the interceptor to mark the transaction for rollback. When a class is &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 6.5239em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0047em;">specified for either of these elements, the designated behavior applies to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 7.6939em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0161em;">subclasses of that class as well. If both elements are specified, </span><span class="stl_178 stl_179 stl_92">dontRollbackOn &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 8.8639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0034em;">takes precedence. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7866em;top: 10.0239em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0036em;">The following example will override behavior for application exceptions, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 11.1939em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0041em;">causing the transaction to be marked for rollback for all application exceptions. &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 13.5464em; "><span class="stl_178 stl_179 stl_114">@Transactional(rollbackOn={Exception.class}) &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 15.8639em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0052em;">The following example will prevent transactions from being marked for &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 17.0239em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0044em;">rollback by the interceptor when an </span><span class="stl_178 stl_179 stl_57">IllegalStateExceptio</span><span class="stl_178 stl_179 stl_317">n</span><span class="stl_26 stl_09 stl_93" style="word-spacing:0em;">or any of its &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 18.1939em; "><span class="stl_26 stl_09 stl_45" style="word-spacing:-0.0038em;">subclasses reaches the interceptor. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 20.529em; "><span class="stl_08 stl_09 stl_57">@Transactional( &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:12.7867em;top: 21.689em; "><span class="stl_08 stl_09 stl_55">dontRollbackOn={IllegalStateException.class}) &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 24.0239em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0021em;">The following will cause the transaction to be marked for rollback for all &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 25.1939em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0055em;">runtime exceptions and all </span><span class="stl_178 stl_179 stl_44">SQLExceptio</span><span class="stl_178 stl_179 stl_318">n</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0072em;">types except for </span><span class="stl_178 stl_179 stl_92">SQLWarning &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:35.5067em;top: 25.1939em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 27.529em; "><span class="stl_08 stl_09 stl_95">@Transactional(rollbackOn={SQLException.class}, &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:12.7867em;top: 28.689em; "><span class="stl_08 stl_09 stl_57">dontRollbackOn={SQLWarning.class}) &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 31.0239em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.0007em;">The </span><span class="stl_178 stl_179 stl_92">TransactionalExceptio</span><span class="stl_178 stl_179 stl_180">n</span><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0036em;">thrown from the </span><span class="stl_178 stl_179 stl_92">Transactional &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 32.1939em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0039em;">interceptors implementation is a </span><span class="stl_178 stl_179 stl_92">RuntimeExceptio</span><span class="stl_178 stl_179 stl_319">n</span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0002em;">and therefore by default &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 33.3639em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0018em;">any transaction that was started as a result of a </span><span class="stl_178 stl_179 stl_55">Transactiona</span><span class="stl_178 stl_179 stl_320">l</span><span class="stl_26 stl_09 stl_116">annotation &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 34.5239em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.003em;">earlier in the call stream will be marked for rollback as a result of the &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 35.6941em; "><span class="stl_178 stl_179 stl_21" style="word-spacing:-0.0472em;">TransactionalException </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0321em;">being thrown by the </span><span class="stl_178 stl_179 stl_55" style="word-spacing:-0.0516em;">Transactional </span><span class="stl_26 stl_09 stl_102">interceptor &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2866em;top: 36.8639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0014em;">of the second bean. For example, if a transaction is begun as a result of a call to a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 38.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0035em;">bean annotated with </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0175em;">Transactional(TxType.REQUIRES) </span><span class="stl_26 stl_09 stl_216" style="word-spacing:-0.0069em;">and this bean in &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 39.1939em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0021em;">turn calls a second bean annotated with </span><span class="stl_178 stl_179 stl_102">Transactional(TxType.NEVER)</span><span class="stl_26 stl_09 stl_44" style="word-spacing:0.002em;">, the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 40.3639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0017em;">transaction begun by the first bean will be marked for rollback. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 43.5105em; "><span class="stl_150 stl_99 stl_10">3.8 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 43.5105em; "><span class="stl_150 stl_99 stl_68" style="word-spacing:0.0071em;">TransactionScoped Annotation &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 45.8639em; "><span class="stl_26 stl_09 stl_200" style="word-spacing:-0.0033em;">The </span><span class="stl_178 stl_179 stl_92">javax.transaction.TransactionScope</span><span class="stl_178 stl_179 stl_321">d</span><span class="stl_26 stl_09 stl_167" style="word-spacing:0.0019em;">annotation provides the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 47.0239em; "><span class="stl_26 stl_09 stl_167" style="word-spacing:-0.0031em;">ability to specify a standard CDI scope to define bean instances whose lifecycle is &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 48.1939em; "><span class="stl_26 stl_09 stl_322" style="word-spacing:0.0032em;">scoped to the currently active JTA transaction. This annotation has no effect on &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">30 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_153" style="word-spacing:-0.0037em;">classes which have non-contextual references such those defined as managed beans &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_221" style="word-spacing:-0.0271em;">by the Java EE specification . The transaction scope is active when the return from a &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_181" style="word-spacing:-0.0078em;">call to </span><span class="stl_178 stl_179 stl_21">UserTransaction.getStatu</span><span class="stl_178 stl_179 stl_323">s</span><span class="stl_26 stl_09 stl_303">or &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:6.0367em;top: 8.7341em; "><span class="stl_178 stl_179 stl_29">TransactionManager.getStatu</span><span class="stl_178 stl_179 stl_324">s</span><span class="stl_26 stl_09 stl_225" style="word-spacing:-0.0027em;">is one of the following states: &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 11.069em; "><span class="stl_08 stl_09 stl_114">Status.STATUS_ACTIVE &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:7.5367em;top: 12.229em; "><span class="stl_08 stl_09 stl_102">Status.STATUS_MARKED_ROLLBACK &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 13.399em; "><span class="stl_08 stl_09 stl_114">Status.STATUS_PREPARED &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 14.569em; "><span class="stl_08 stl_09 stl_92">Status.STATUS_UNKNOWN &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 15.739em; "><span class="stl_08 stl_09 stl_114">Status.STATUS_PREPARING &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:7.5367em;top: 16.899em; "><span class="stl_08 stl_09 stl_92">Status.STATUS_COMMITTING &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 18.069em; "><span class="stl_08 stl_09 stl_84">Status.STATUS_ROLLING_BACK &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 20.4039em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.001em;">It is not intended that the term “active” as defined here in relation to the &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:6.0367em;top: 21.5641em; "><span class="stl_178 stl_179 stl_95">TransactionScope</span><span class="stl_178 stl_179 stl_325">d</span><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0029em;">annotation should also apply to its use in relation to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 22.7339em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0009em;">transaction context, lifecycle, etc. mentioned elsewhere in this specification. The &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 23.9039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0023em;">object with this annotation will be associated with the current active JTA &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0366em;top: 25.0639em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0297em;">transaction when the object is used. This association must be retained through any &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 26.2339em; "><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0056em;">transaction suspend or resume calls as well as any &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:6.0367em;top: 27.4041em; "><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0307em;">Synchronization.beforeCompletion </span><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0118em;">callbacks. Any &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:6.0367em;top: 28.5641em; "><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0301em;">Synchronization.afterCompletion </span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0004em;">methods will be invoked in an &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 29.7339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0104em;">undefined context. The way in which the JTA transaction is begun and completed &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 30.9039em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.05em;">(for example, via </span><span class="stl_178 stl_179 stl_122">UserTransaction</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0376em;">, </span><span class="stl_178 stl_179 stl_92">Transactiona</span><span class="stl_178 stl_179 stl_326">l</span><span class="stl_26 stl_09 stl_45" style="word-spacing:-0.0398em;">interceptor, etc.) is of no &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 32.0639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0412em;">consequence. The contextual references used across different JTA transactions are &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 33.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0027em;">distinct. Refer to the CDI specification for more details on contextual references. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 34.4039em; "><span class="stl_26 stl_09 stl_10">A</span></div>
					<div class="stl_01 stl_187" style="left:6.9267em;top: 34.4041em; "><span class="stl_178 stl_179 stl_122">javax.enterprise.context.ContextNotActiveExceptio</span><span class="stl_178 stl_179 stl_327">n</span><span class="stl_26 stl_09 stl_113" style="word-spacing:-0.0105em;">must be &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 35.5639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0033em;">thrown if a bean with this annotation is used when the transaction context is not &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 36.7339em; "><span class="stl_26 stl_09 stl_52">active. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 37.9039em; "><span class="stl_26 stl_09 stl_55" style="word-spacing:0.0018em;">The following example test case illustrates the expected behavior. &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 40.2341em; "><span class="stl_178 stl_179 stl_95">TransactionScope</span><span class="stl_178 stl_179 stl_325">d</span><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0032em;">annotated CDI managed bean: &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:26.2967em;top: 2.6159em; "><span class="stl_155 stl_09 stl_203" style="word-spacing:0.001em;">TRANSACTIONSCOPED ANNOTATION &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">31 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 5.359em; "><span class="stl_08 stl_09 stl_52">@TransactionScoped &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 6.529em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:0.0009em;">public class TestCDITransactionScopeBean { &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 7.689em; "><span class="stl_08 stl_09 stl_23" style="word-spacing:0.005em;">public void test() &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 8.859em; "><span class="stl_08 stl_09 stl_10">{</span></div>
					<div class="stl_01 stl_07" style="left:14.2866em;top: 10.029em; "><span class="stl_08 stl_09 stl_49">//... &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2866em;top: 11.189em; "><span class="stl_08 stl_09 stl_10">}</span></div>
					<div class="stl_01 stl_07" style="left:9.7866em;top: 12.359em; "><span class="stl_08 stl_09 stl_10">}</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 26.3639em; "><span class="stl_26 stl_09 stl_211" style="word-spacing:0.012em;">Test Class: &nbsp;</span></div>
					<div class="stl_01 stl_328" style="left:9.7867em;top: 28.749em; "><span class="stl_08 stl_09 stl_44">@Inject &nbsp;</span></div>
					<div class="stl_01 stl_329" style="left:9.7867em;top: 29.883em; "><span class="stl_330 stl_179 stl_125" style="word-spacing:0.0014em;">UserTransaction userTransaction; &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 31.029em; "><span class="stl_08 stl_09 stl_45" style="word-spacing:0.0042em;">TransactionManager transactionManager; &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 32.189em; "><span class="stl_08 stl_09 stl_44">@Inject &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 33.359em; "><span class="stl_08 stl_09 stl_29" style="word-spacing:-0.0063em;">TestCDITransactionScopeBean testTxAssociationChangeBean; &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 35.689em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0026em;">public void testTxAssociationChange() throws Exception { &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2866em;top: 36.859em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0024em;">userTransaction.begin(); //tx1 begun &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2866em;top: 38.029em; "><span class="stl_08 stl_09 stl_52">testTxAssociationChangeBean.test(); &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:11.2866em;top: 39.189em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0008em;">// assert testTxAssociationChangeBean instance has tx1 &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:11.2866em;top: 40.359em; "><span class="stl_08 stl_09 stl_76" style="word-spacing:1.0025em;">// association &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.286em;top: 41.529em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0004em;">Transaction transaction = &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">32 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:12.0366em;top: 5.229em; "><span class="stl_08 stl_09 stl_55">transactionManager.suspend(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0367em;top: 6.399em; "><span class="stl_08 stl_09 stl_92" style="word-spacing:-0.0055em;">// tx1 suspended &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0367em;top: 7.569em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0024em;">userTransaction.begin(); //tx2 begun &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.0367em;top: 8.729em; "><span class="stl_08 stl_09 stl_95">testTxAssociationChangeBean.test(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0367em;top: 9.899em; "><span class="stl_08 stl_09 stl_45" style="word-spacing:0.0026em;">// assert new testTxAssociationChangeBean instance has &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 11.069em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:1.0003em;">// tx2</span><span class="stl_08 stl_09 stl_10" style="word-spacing:-0.0043em;">&nbsp;</span><span class="stl_08 stl_09 stl_29">association &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0366em;top: 12.229em; "><span class="stl_08 stl_09 stl_95">userTransaction.commit(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0366em;top: 13.399em; "><span class="stl_08 stl_09 stl_29" style="word-spacing:-0.0035em;">// tx2 committed, assert no transaction scope is active &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 14.569em; "><span class="stl_08 stl_09 stl_21">transactionManager.resume(transaction); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 15.739em; "><span class="stl_08 stl_09 stl_92" style="word-spacing:-0.0055em;">// tx1 resumed &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0366em;top: 16.899em; "><span class="stl_08 stl_09 stl_95">testTxAssociationChangeBean.test(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 18.069em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0028em;">// assert testTxAssociationChangeBean is original tx1 &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 19.239em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:1.001em;">// instance</span><span class="stl_08 stl_09 stl_10" style="word-spacing:0.003em;">&nbsp;</span><span class="stl_08 stl_09 stl_49" style="word-spacing:0.0049em;">and not still referencing committed/tx2 tx &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.0366em;top: 20.399em; "><span class="stl_08 stl_09 stl_95">userTransaction.commit(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0366em;top: 21.569em; "><span class="stl_08 stl_09 stl_29" style="word-spacing:-0.0021em;">// tx1 commit, assert no transaction scope is active &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.0366em;top: 22.739em; "><span class="stl_08 stl_09 stl_21" style="word-spacing:-0.007em;">try { &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:10.5366em;top: 23.899em; "><span class="stl_08 stl_09 stl_52">testTxAssociationChangeBean.test(); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:10.5366em;top: 25.069em; "><span class="stl_08 stl_09 stl_18">fail( &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:12.0366em;top: 26.239em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0044em;">“should have thrown ContextNotActiveException”); &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.0366em;top: 27.399em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:-0.0033em;">} catch (ContextNotActiveException &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:13.5366em;top: 28.569em; "><span class="stl_08 stl_09 stl_57" style="word-spacing:-0.0087em;">contextNotActiveException) { &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:12.0366em;top: 29.739em; "><span class="stl_08 stl_09 stl_114" style="word-spacing:-0.0054em;">// do nothing intentionally &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.0366em;top: 30.899em; "><span class="stl_08 stl_09 stl_10">}</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:21.8566em;top: 2.6159em; "><span class="stl_155 stl_09 stl_107" style="word-spacing:-0.0065em;">CONNECTION-BASED RESOURCE USAGE SCENARIO &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">33 &nbsp;</span></div>
					<div class="stl_01 stl_158" style="left:28.5867em;top: 7.352em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2003em;">C H A P T E R &nbsp;</span></div>
					<div class="stl_01 stl_172" style="left:36.2967em;top: 5.288em; "><span class="stl_136 stl_09 stl_10">4</span></div>
					<div class="stl_01 stl_331" style="left:19.1967em;top: 9.49em; "><span class="stl_138 stl_09 stl_332" style="word-spacing:-0.0006em;">JTA Support in the &nbsp;</span></div>
					<div class="stl_01 stl_173" style="left:19.3367em;top: 12.32em; "><span class="stl_138 stl_09 stl_332" style="word-spacing:-0.0022em;">Application Server &nbsp;</span></div>
					<div class="stl_01 stl_139" style="left:8.2867em;top: 19.762em; "><span class="stl_140 stl_99 stl_10">T</span></div>
					<div class="stl_01 stl_25" style="left:9.6267em;top: 20.5239em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0042em;">his chapter provides a discussion on implementation and usage considerations &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 21.6939em; "><span class="stl_26 stl_09 stl_197" style="word-spacing:-0.0172em;">for application servers to support the Java Transaction API. Our discussion assumes &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 22.8639em; "><span class="stl_26 stl_09 stl_182" style="word-spacing:-0.0014em;">the application’s transactions and resource usage are managed by the application &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 24.0239em; "><span class="stl_26 stl_09 stl_305" style="word-spacing:0.0002em;">server. We further assume that access to the underlying transactional resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 25.1939em; "><span class="stl_26 stl_09 stl_141" style="word-spacing:-0.0045em;">manager is through some Java API implemented by the resource adapter &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 26.3639em; "><span class="stl_26 stl_09 stl_208" style="word-spacing:0.0026em;">representing the resource manager. For example, a JDBC driver may be used to &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 27.5239em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0204em;">access a relational database, a Java EE Connector architecture resource adapter may &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 28.6939em; "><span class="stl_26 stl_09 stl_143" style="word-spacing:-0.0034em;">be used to access an Enterprise Resource Planning (ERP) system, and so on. This &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 29.8639em; "><span class="stl_26 stl_09 stl_322" style="word-spacing:0.0044em;">section focuses on the usage of JTA and assumes a generic connection based &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 31.0239em; "><span class="stl_26 stl_09 stl_145" style="word-spacing:-0.0013em;">transactional resource is in use without being specific about a particular type of &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 32.1939em; z-index:765; "><span class="stl_26 stl_09 stl_333" style="word-spacing:0.0109em;">resource manager. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 35.3505em; "><span class="stl_150 stl_99 stl_10">4.1 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 35.3505em; "><span class="stl_150 stl_99 stl_23" style="word-spacing:0.0012em;">Connection-Based Resource Usage Scenario &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 37.6939em; "><span class="stl_26 stl_09 stl_175" style="word-spacing:0.0006em;">Let’s assume that the resource adapter provides a connection-based resource API &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 38.8639em; z-index:938; "><span class="stl_26 stl_09 stl_146" style="word-spacing:0.0094em;">called </span><span class="stl_191 stl_192 stl_334" style="word-spacing:-0.0123em;">TransactionalResource </span><span class="stl_26 stl_09 stl_174" style="word-spacing:0.0001em;">to access the underlying resource manager. &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 40.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0007em;">In a typical usage scenario, the application server invokes the resource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 41.1939em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0079em;">adapter’s resource factory to create a </span><span class="stl_191 stl_192 stl_65" style="word-spacing:-0.0077em;">TransactionalResource </span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0089em;">object. The resource &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 42.3639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0428em;">adapter internally associates the </span><span class="stl_191 stl_192 stl_63" style="word-spacing:-0.0286em;">TransactionalResource </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0452em;">with two other entities: an &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 43.5239em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0197em;">object that implements the specific resource adapter’s connection interface and an &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 44.6939em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0028em;">object that implements the </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.018em;">javax.transaction.xa.XAResource </span><span class="stl_26 stl_09 stl_84">interface. &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 45.8639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0003em;">The application server obtains a </span><span class="stl_191 stl_192 stl_65" style="word-spacing:0.0023em;">TransactionalResource </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0019em;">object and uses it in &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2866em;top: 47.0239em; "><span class="stl_26 stl_09 stl_43" style="word-spacing:0.0042em;">the following way. The application server obtains the </span><span class="stl_178 stl_179 stl_64">XAResourc</span><span class="stl_178 stl_179 stl_335">e</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0025em;">object via a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:8.2867em;top: 48.1941em; "><span class="stl_178 stl_179 stl_55">getXAResourc</span><span class="stl_178 stl_179 stl_320">e</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0078em;">method. The application server enlists the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0058em;">XAResource </span><span class="stl_26 stl_09 stl_53" style="word-spacing:0.0077em;">to the &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_08.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_08.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">34 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 5.2339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0013em;">transaction manager using the </span><span class="stl_178 stl_179 stl_29" style="word-spacing:0.0274em;">Transaction.enlistResource </span><span class="stl_26 stl_09 stl_223" style="word-spacing:-0.0132em;">method. The &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0025em;">transaction manager informs the resource manager to associate the work &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 7.5639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0457em;">performed (through that connection) with the transaction currently associated with &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 8.7339em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0001em;">the application. The transaction manager does it by invoking the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 9.9041em; "><span class="stl_178 stl_179 stl_95">XAResource.star</span><span class="stl_178 stl_179 stl_336">t</span><span class="stl_26 stl_09 stl_125">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 11.0639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.036em;">The application server then invokes some </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.0885em;">getConnection </span><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0345em;">method to obtain &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0366em;top: 12.2339em; "><span class="stl_26 stl_09 stl_10">a</span></div>
					<div class="stl_01 stl_187" style="left:6.6767em;top: 12.2341em; "><span class="stl_178 stl_179 stl_92">Connectio</span><span class="stl_178 stl_179 stl_266">n</span><span class="stl_26 stl_09 stl_122" style="word-spacing:0.001em;">object and returns it to the application. Note that the </span><span class="stl_191 stl_192 stl_102">Connection &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 13.4039em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0019em;">interface is implemented by the resource adapter and it is specific to the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 14.5639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0006em;">underlying resource supported by the resource manager. The diagram below &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 15.7339em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0047em;">illustrates a general flow of acquiring resource and enlisting the resource to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 16.9039em; "><span class="stl_26 stl_09 stl_39" style="word-spacing:-0.0025em;">transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:12.5366em;top: 20.5719em; "><span class="stl_15 stl_09 stl_29">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_337" style="left:13.2266em;top: 21.9919em; "><span class="stl_15 stl_09 stl_122">Manager &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:30.7266em;top: 20.6419em; "><span class="stl_15 stl_09 stl_18">Java &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:29.1666em;top: 22.1219em; "><span class="stl_15 stl_09 stl_21">Application &nbsp;</span></div>
					<div class="stl_01 stl_338" style="left:15.3567em;top: 24.4331em; "><span class="stl_339 stl_192 stl_57">javax.transaction. &nbsp;</span></div>
					<div class="stl_01 stl_166" style="left:15.3567em;top: 25.3531em; "><span class="stl_339 stl_192 stl_114">Transaction. &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:15.4167em;top: 26.1631em; "><span class="stl_339 stl_192 stl_64">enlistResource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:31.8567em;top: 24.739em; "><span class="stl_08 stl_09 stl_288" style="word-spacing:-0.012em;">look up &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:31.7967em;top: 25.789em; "><span class="stl_08 stl_09 stl_44">resource &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:20.9167em;top: 27.4519em; "><span class="stl_15 stl_09 stl_29">AppServer &nbsp;</span></div>
					<div class="stl_01 stl_328" style="left:21.6167em;top: 29.959em; "><span class="stl_08 stl_09 stl_54">obj-ref &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:13.8067em;top: 29.239em; "><span class="stl_08 stl_09 stl_95">obj-ref &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:30.3667em;top: 29.239em; "><span class="stl_08 stl_09 stl_95">obj-ref &nbsp;</span></div>
					<div class="stl_01 stl_338" style="left:30.2867em;top: 31.4631em; "><span class="stl_339 stl_192 stl_55">getConnection &nbsp;</span></div>
					<div class="stl_01 stl_338" style="left:11.9167em;top: 31.9031em; "><span class="stl_339 stl_192 stl_84">getXAResource &nbsp;</span></div>
					<div class="stl_01 stl_338" style="left:19.1667em;top: 32.3131em; "><span class="stl_339 stl_192 stl_52">getTransactionalResource &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:30.7267em;top: 34.7619em; "><span class="stl_15 stl_09 stl_40">Adapter &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:24.7567em;top: 36.709em; "><span class="stl_08 stl_09 stl_64">Connection &nbsp;</span></div>
					<div class="stl_01 stl_341" style="left:19.9767em;top: 38.809em; "><span class="stl_08 stl_09 stl_44">TransactionalResource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:17.3567em;top: 36.769em; "><span class="stl_08 stl_09 stl_28">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_338" style="left:5.6667em;top: 41.4331em; "><span class="stl_339 stl_192 stl_55">javax.transaction.xa. &nbsp;</span></div>
					<div class="stl_01 stl_271" style="left:5.5367em;top: 42.4831em; "><span class="stl_339 stl_192 stl_52">XAResource.start &nbsp;</span></div>
					<div class="stl_01 stl_14" style="left:17.9767em;top: 41.5819em; "><span class="stl_15 stl_09 stl_122" style="word-spacing:-0.0007em;">Resource Manager &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 44.7339em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0051em;">In this usage scenario, the </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_266">e</span><span class="stl_26 stl_09 stl_52" style="word-spacing:0.0055em;">interface is transparent to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 45.9039em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0034em;">application program, and the </span><span class="stl_178 stl_179 stl_92">Connectio</span><span class="stl_178 stl_179 stl_266">n</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0013em;">interface is transparent to the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 47.0739em; "><span class="stl_26 stl_09 stl_95" style="word-spacing:-0.0372em;">transaction manager. The application server is the only party that holds a reference &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:6.0367em;top: 48.2339em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:0.0026em;">to some </span><span class="stl_178 stl_179 stl_92">TransactionalResourc</span><span class="stl_178 stl_179 stl_342">e</span><span class="stl_26 stl_09 stl_28">object. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:17.4867em;top: 2.6159em; "><span class="stl_155 stl_09 stl_156" style="word-spacing:-0.0093em;">TRANSACTION ASSOCIATION AND CONNECTION REQUEST FLOW &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">35 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 5.3639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0em;">The code sample below illustrates how the application server obtains the &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:8.2867em;top: 6.5241em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_29" style="word-spacing:-0.0016em;">object reference and enlists it with the transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 8.859em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0013em;">// Acquire some connection-based transactional resource to &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 10.029em; "><span class="stl_08 stl_09 stl_45" style="word-spacing:-0.0003em;">// access the resource manager &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 12.189em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0019em;">Context ctx = InitialContext(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 13.359em; "><span class="stl_08 stl_09 stl_29" style="word-spacing:-0.0082em;">ResourceFactory rf =(ResourceFactory)ctx.lookup(“MyEISResource”); &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 14.529em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0002em;">TransactionalResource res = rf.getTransactionalResource(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 16.859em; "><span class="stl_08 stl_09 stl_64" style="word-spacing:0.0011em;">// Obtain the XAResource part of the connection and &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 18.029em; "><span class="stl_08 stl_09 stl_95" style="word-spacing:-0.0009em;">// enlist it with the transaction manager &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 20.359em; "><span class="stl_08 stl_09 stl_52" style="word-spacing:-0.0003em;">XAResource xaRes = res.getXAResource(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 21.529em; "><span class="stl_08 stl_09 stl_52">(TransactionManager.getTransaction()).enlistResource(xaRes); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 23.859em; "><span class="stl_08 stl_09 stl_45" style="word-spacing:0.0006em;">// get the connection part of the transaction resource &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 25.029em; "><span class="stl_08 stl_09 stl_18" style="word-spacing:0.0052em;">Connection con = (Connection)res.getConnection(); &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7867em;top: 27.359em; "><span class="stl_08 stl_09 stl_49" style="word-spacing:0.0022em;">// return the connection to the application &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 30.5105em; "><span class="stl_150 stl_99 stl_10">4.2 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 30.5105em; "><span class="stl_150 stl_99 stl_13" style="word-spacing:0.0001em;">Transaction Association and Connection Request &nbsp;</span></div>
					<div class="stl_01 stl_343" style="left:14.2867em;top: 31.7605em; "><span class="stl_150 stl_99 stl_61">Flow &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 34.1139em; "><span class="stl_26 stl_09 stl_221" style="word-spacing:-0.0024em;">This session provides a brief walkthrough of how an application server may handle &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:8.2867em;top: 35.2739em; "><span class="stl_26 stl_09 stl_209" style="word-spacing:-0.0002em;">a connection request from the application. The figure that follows illustrates the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 36.4439em; "><span class="stl_26 stl_09 stl_196" style="word-spacing:0.0007em;">usage of JTA. The steps shown are for illustrative purposes, they are not &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:8.2867em;top: 37.6139em; "><span class="stl_26 stl_09 stl_145">prescriptive: &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.8367em;top: 39.8639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:0.0039em;">1. Assuming a client invokes a CDI managed bean annotated with &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 41.0241em; "><span class="stl_178 stl_179 stl_29">@Transactional(TxType.REQUIRED</span><span class="stl_178 stl_179 stl_344">)</span><span class="stl_26 stl_09 stl_57" style="word-spacing:-0.0598em;">and the client is not associated with &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 42.1939em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0027em;">a global transaction, the </span><span class="stl_178 stl_179 stl_92">Transactiona</span><span class="stl_178 stl_179 stl_345">l</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0038em;">interceptor starts a global transac- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 43.3639em; "><span class="stl_26 stl_09 stl_52" style="word-spacing:0.0054em;">tion by invoking the </span><span class="stl_178 stl_179 stl_21" style="word-spacing:0.0263em;">TransactionManager.begin </span><span class="stl_26 stl_09 stl_125">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.8367em;top: 44.7739em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.003em;">2. After the transaction starts, the container invokes the bean method. As part of &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 45.9439em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:-0.0401em;">the business logic, the bean requests for a connection-based resource using the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 47.1139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0007em;">API provided by the resource adapter of interest. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.8367em;top: 48.5239em; "><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0004em;">3. The application server obtains a resource from the resource adapter via some &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">36 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 5.234em; "><span class="stl_191 stl_192 stl_90" style="word-spacing:0.3054em;">ResourceFactory.getTransactionalResource </span><span class="stl_26 stl_09 stl_114">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 6.6539em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0051em;">4. The resource adapter creates the </span><span class="stl_191 stl_192 stl_93" style="word-spacing:0.2922em;">TransactionalResource </span><span class="stl_26 stl_09 stl_108" style="word-spacing:-0.0089em;">object and the asso- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 7.8139em; "><span class="stl_26 stl_09 stl_87" style="word-spacing:-0.0096em;">ciated XAResource and Connection objects. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 9.2339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0073em;">5. The application server invokes the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.004em;">getXAResource </span><span class="stl_26 stl_09 stl_114">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 10.6539em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0033em;">6. The application server enlists the resource to the transaction manager. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 12.0639em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0108em;">7. The transaction manager invokes </span><span class="stl_178 stl_179 stl_95" style="word-spacing:0.0222em;">XAResource.start </span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0041em;">to associate the cur- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 13.2339em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0013em;">rent transaction to the resource. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 14.6539em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0073em;">8. The application server invokes the </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.004em;">getConnection </span><span class="stl_26 stl_09 stl_114">method. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.5867em;top: 16.0639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0075em;">9. The application server returns the </span><span class="stl_178 stl_179 stl_92">Connectio</span><span class="stl_178 stl_179 stl_266">n</span><span class="stl_26 stl_09 stl_95" style="word-spacing:0.0053em;">object reference to the appli- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 17.2339em; "><span class="stl_26 stl_09 stl_28">cation. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 18.6539em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:0.002em;">10. The application performs one or more operations on the connection. &nbsp;</span></div>
					<div class="stl_01 stl_127" style="left:6.1267em;top: 20.0639em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.0045em;">11. The application closes the connection. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 21.4839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0484em;">12. The application server delists the resource when notified by the resource adapt- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 22.6539em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0018em;">er about the connection close. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 24.0639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0201em;">13. The transaction manager invokes </span><span class="stl_178 stl_179 stl_92" style="word-spacing:-0.088em;">XAResource.end </span><span class="stl_26 stl_09 stl_57" style="word-spacing:-0.0345em;">to disassociate the trans- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 25.2339em; "><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0027em;">action from the </span><span class="stl_178 stl_179 stl_92">XAResource &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:18.3567em;top: 25.2339em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 26.6539em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.024em;">14. The application server asks the transaction manager to commit the transaction. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 28.0639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0107em;">15. The transaction manager invokes </span><span class="stl_178 stl_179 stl_57" style="word-spacing:0.0232em;">XAResource.prepare </span><span class="stl_26 stl_09 stl_95" style="word-spacing:0.0037em;">to inform the re- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 29.2339em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0018em;">source manager to prepare the transaction work for commit. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.1267em;top: 30.6539em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0163em;">16. The transaction manager invokes </span><span class="stl_178 stl_179 stl_95" style="word-spacing:-0.0497em;">XAResource.commit </span><span class="stl_26 stl_09 stl_288" style="word-spacing:-0.042em;">to commit the trans- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 31.8139em; "><span class="stl_26 stl_09 stl_28">action. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 34.0639em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0026em;">This example illustrates the application server’s usage of the &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:6.0367em;top: 35.2341em; "><span class="stl_178 stl_179 stl_57">TransactionManage</span><span class="stl_178 stl_179 stl_346">r</span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.0132em;">and </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0.0063em;">XAResource </span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0021em;">interfaces as part of the application &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0366em;top: 36.4039em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0015em;">connection request handling. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="JTA1.3Specification.pdf_files/img_09.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:44.3333em; height:55.5em;">
					<embed src="JTA1.3Specification.pdf_files/img_09.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_154" style="left:17.4867em;top: 2.6159em; "><span class="stl_155 stl_09 stl_156" style="word-spacing:-0.0093em;">TRANSACTION ASSOCIATION AND CONNECTION REQUEST FLOW &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">37 &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:21.7867em;top: 6.729em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:-0.0004em;">Interfaces implemented by the resource adapter &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:9.7066em;top: 7.909em; "><span class="stl_08 stl_09 stl_43">Application &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:4.4166em;top: 7.979em; "><span class="stl_08 stl_09 stl_45">Transactional &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:4.5466em;top: 8.799em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:1.2257em;">Application Server &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:16.0467em;top: 7.979em; "><span class="stl_08 stl_09 stl_29">Transaction &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:16.0467em;top: 8.799em; "><span class="stl_08 stl_09 stl_44">Manager &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:21.5966em;top: 8.789em; "><span class="stl_08 stl_09 stl_57">Resource- &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:21.5967em;top: 9.619em; "><span class="stl_08 stl_09 stl_114">Factory &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:27.2866em;top: 8.859em; "><span class="stl_08 stl_09 stl_45">Transactional &nbsp;</span></div>
					<div class="stl_01 stl_340" style="left:27.2861em;top: 9.619em; "><span class="stl_08 stl_09 stl_57">Resource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:33.3467em;top: 9.619em; "><span class="stl_08 stl_09 stl_55" style="word-spacing:0.4171em;">Connection XAResource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.4567em;top: 11.279em; "><span class="stl_08 stl_09 stl_68">begin &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:5.4067em;top: 13.519em; "><span class="stl_08 stl_09 stl_55">getConnection &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.3466em;top: 14.419em; "><span class="stl_08 stl_09 stl_108">new &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.3467em;top: 17.039em; "><span class="stl_08 stl_09 stl_52">getTransactionalResource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:24.2266em;top: 18.479em; "><span class="stl_08 stl_09 stl_108">new &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:30.0967em;top: 19.639em; "><span class="stl_08 stl_09 stl_108">new &nbsp;</span></div>
					<div class="stl_01 stl_164" style="left:30.1067em;top: 21.199em; "><span class="stl_08 stl_09 stl_83">new &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.3467em;top: 23.899em; "><span class="stl_08 stl_09 stl_21">getXAResource &nbsp;</span></div>
					<div class="stl_01 stl_347" style="left:11.3567em;top: 26.389em; "><span class="stl_08 stl_09 stl_114">enlistResource &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:19.5967em;top: 27.899em; "><span class="stl_08 stl_09 stl_23">start &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.4767em;top: 30.649em; "><span class="stl_08 stl_09 stl_55">getConnection &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.2867em;top: 32.339em; "><span class="stl_08 stl_09 stl_84" style="word-spacing:-0.0079em;">return connection &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:5.5967em;top: 35.149em; "><span class="stl_08 stl_09 stl_44" style="word-spacing:0.0014em;">application performs operations &nbsp;</span></div>
					<div class="stl_01 stl_328" style="left:5.7867em;top: 37.399em; "><span class="stl_08 stl_09 stl_64">close &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:11.1467em;top: 40.579em; "><span class="stl_08 stl_09 stl_114">delistResource &nbsp;</span></div>
					<div class="stl_01 stl_348" style="left:11.2867em;top: 44.049em; "><span class="stl_08 stl_09 stl_204">commit &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:19.7267em;top: 41.959em; "><span class="stl_08 stl_09 stl_108">end &nbsp;</span></div>
					<div class="stl_01 stl_07" style="left:19.5967em;top: 44.649em; "><span class="stl_08 stl_09 stl_53">prepare &nbsp;</span></div>
					<div class="stl_01 stl_164" style="left:19.6667em;top: 46.179em; "><span class="stl_08 stl_09 stl_44">commit &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">38 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 5.2205em; "><span class="stl_150 stl_99 stl_10">4.3 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 5.2205em; "><span class="stl_150 stl_99 stl_13" style="word-spacing:-0.0013em;">Other Requirements &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.0367em;top: 8.7339em; "><span class="stl_26 stl_09 stl_220" style="word-spacing:0.0035em;">The behaviors described in the Javadoc specification of the JTA interfaces are &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:6.0367em;top: 9.9039em; "><span class="stl_26 stl_09 stl_198" style="word-spacing:-0.0017em;">required functionality and must be implemented by compliant providers. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">39 &nbsp;</span></div>
					<div class="stl_01 stl_134" style="left:26.8667em;top: 5.2919em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2015em;">A P P E N D I X </span><span class="stl_136 stl_09 stl_10" style="word-spacing:0.0504em;">A &nbsp;</span></div>
					<div class="stl_01 stl_137" style="left:18.6467em;top: 9.49em; "><span class="stl_138 stl_09 stl_332" style="word-spacing:-0.0021em;">Related Documents &nbsp;</span></div>
					<div class="stl_01 stl_139" style="left:8.2867em;top: 16.932em; "><span class="stl_140 stl_99 stl_10">T</span></div>
					<div class="stl_01 stl_25" style="left:9.6267em;top: 17.6939em; "><span class="stl_26 stl_09 stl_146" style="word-spacing:-0.0002em;">his specification refers to the following documents. &nbsp;</span></div>
					<div class="stl_01 stl_349" style="left:8.2867em;top: 19.9485em; "><span class="stl_191 stl_192 stl_93" style="word-spacing:0.0112em;">[1] X/Open CAE Specification – Distributed Transaction Processing: The XA &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 21.1185em; "><span class="stl_191 stl_192 stl_204" style="word-spacing:-0.005em;">Specification, X/Open Document No. XO/CAE/91/300 or ISBN 1 872630 24 3 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 22.5239em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[2] </span><span class="stl_191 stl_192 stl_40" style="word-spacing:0.0007em;">Java Transaction Service (JTS) Specification</span><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0003em;">, available at </span><span class="stl_178 stl_179 stl_92">http:// &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 23.7664em; "><span class="stl_178 stl_179 stl_122">www.oracle.com/technetwork/java/javaee/jts-spec095- &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 24.9364em; "><span class="stl_178 stl_179 stl_92">1508547.pdf &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 26.2739em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[3] </span><span class="stl_191 stl_192 stl_90" style="word-spacing:0.0003em;">OMG Object Transaction Service (OTS 1.1) &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 27.6939em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[4] </span><span class="stl_191 stl_192 stl_121" style="word-spacing:-0.0032em;">ORB Portability Submission, OMG document orbos/97-04-14 &nbsp;</span></div>
					<div class="stl_01 stl_168" style="left:8.2866em;top: 29.1139em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[5] </span><span class="stl_191 stl_192 stl_108" style="word-spacing:-0.009em;">Enterprise JavaBeans</span><sup style="top: -0.34em;"><span class="stl_350 stl_192 stl_288" style="word-spacing:0.1892em;">TM </span></sup><span class="stl_191 stl_192 stl_92" style="word-spacing:0.004em;">(EJB) 3.2 Specification</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0052em;">, available at </span><span class="stl_178 stl_179 stl_92">http:// &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 30.3464em; "><span class="stl_178 stl_179 stl_29">jcp.org/en/jsr/detail?id=345 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 31.6939em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[6] </span><span class="stl_191 stl_192 stl_351">JDBC</span><sup style="top: -0.33em;"><span class="stl_350 stl_192 stl_304" style="word-spacing:0.2662em;">TM </span></sup><span class="stl_191 stl_192 stl_90" style="word-spacing:-0.0077em;">4.3 Specification</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0052em;">, available at </span><span class="stl_178 stl_179 stl_92" style="word-spacing:0em;">http://jcp.org/en/ jsr/ &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 32.9364em; "><span class="stl_178 stl_179 stl_55">detail?id=221 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 34.2739em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[7] </span><span class="stl_191 stl_192 stl_28" style="word-spacing:-0.0033em;">JMS 2.0 Specification</span><span class="stl_26 stl_09 stl_114" style="word-spacing:0.004em;">, available at </span><a href="http://jcp.org/en/jsr/detail?id=343" target="_blank"><span class="stl_178 stl_179 stl_21">http://jcp.org/en/jsr/ &nbsp;</span></a></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 35.5164em; "><a href="http://jcp.org/en/jsr/detail?id=343" target="_blank"><span class="stl_178 stl_179 stl_55">detail?id=343 &nbsp;</span></a></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 36.8639em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[8] </span><span class="stl_191 stl_192 stl_40" style="word-spacing:-0.0017em;">Contexts and Dependency Injection for the Java EE Platform (CDI) 1.1 Spec- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 38.0239em; "><span class="stl_191 stl_192 stl_112">ification</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0052em;">, available at </span><a href="http://jcp.org/en/jsr/detail?id=346" target="_blank"><span class="stl_178 stl_179 stl_114">http://jcp.org/en/jsr/detail?id=346 &nbsp;</span></a></div>
					<div class="stl_01 stl_25" style="left:8.2867em;top: 39.4439em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.2275em;">[9] </span><span class="stl_191 stl_192 stl_102" style="word-spacing:0.0038em;">Interceptor Specification</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0015em;">, available at </span><a href="http://jcp.org/en/jsr/detail?id=318" target="_blank"><span class="stl_178 stl_179 stl_21">http://jcp.org/en/jsr/ &nbsp;</span></a></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 40.6864em; "><a href="http://jcp.org/en/jsr/detail?id=318" target="_blank"><span class="stl_178 stl_179 stl_55">detail?id=318 &nbsp;</span></a></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">40 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">41 &nbsp;</span></div>
					<div class="stl_01 stl_134" style="left:27.0863em;top: 5.2919em; "><span class="stl_135 stl_09 stl_10" style="word-spacing:0.2016em;">A P P E N D I X </span><span class="stl_136 stl_09 stl_10" style="word-spacing:0.0504em;">B &nbsp;</span></div>
					<div class="stl_01 stl_137" style="left:21.2767em;top: 9.49em; "><span class="stl_138 stl_09 stl_54" style="word-spacing:0.0009em;">Revision History &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 17.6805em; "><span class="stl_150 stl_99 stl_10">B.1 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 17.6805em; "><span class="stl_150 stl_99 stl_37" style="word-spacing:0.0016em;">Changes for Version 1.3 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 20.0239em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.2956em;">• Remove</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0252em;">&nbsp;</span><span class="stl_26 stl_09 stl_44" style="word-spacing:-0.0134em;">the </span><span class="stl_178 stl_179 stl_92">javax.transaction.x</span><span class="stl_178 stl_179 stl_352">a</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.027em;">types as they have been subsumed by &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 21.1939em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.008em;">Java SE. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 24.3505em; "><span class="stl_150 stl_99 stl_10">B.2 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 24.3505em; "><span class="stl_150 stl_99 stl_37" style="word-spacing:0.0016em;">Changes for Version 1.2 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 26.6939em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• New</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0015em;">&nbsp;</span><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0182em;">annotation </span><span class="stl_178 stl_179 stl_29">javax.transaction.Transactiona</span><span class="stl_178 stl_179 stl_335">l</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0086em;">and exception &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 27.9364em; "><span class="stl_178 stl_179 stl_114">javax.transaction.TransactionalException &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 29.2739em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• New</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0015em;">&nbsp;</span><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0182em;">annotation </span><span class="stl_178 stl_179 stl_114">javax.transaction.TransactionScoped &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 30.6939em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.2955em;">• Added</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.0152em;">&nbsp;</span><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0168em;">the following description to the end of Section 3.3.1, “Resource Enlist- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 31.8639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0016em;">ment”: "A container only needs to call </span><span class="stl_178 stl_179 stl_92">delistResourc</span><span class="stl_178 stl_179 stl_353">e</span><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0039em;">to explicitly disso- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7866em;top: 33.0239em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0035em;">ciate a resource from a transaction and it is not a mandatory container &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 34.1939em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0034em;">requirement to do so as a precondition to transaction completion.</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.2554em;">&nbsp;</span><span class="stl_26 stl_09 stl_87" style="word-spacing:-0.0019em;">A transac- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 35.3639em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0009em;">tion manager is, however, required to implicitly insure the association of any &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7866em;top: 36.5239em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0292em;">associated </span><span class="stl_178 stl_179 stl_64">XAResourc</span><span class="stl_178 stl_179 stl_354">e</span><span class="stl_26 stl_09 stl_57" style="word-spacing:-0.0328em;">is ended, via the appropriate </span><span class="stl_178 stl_179 stl_92">XAResource.en</span><span class="stl_178 stl_179 stl_355">d</span><span class="stl_26 stl_09 stl_21">call, &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 37.6939em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.037em;">immediately prior to completion; that is before prepare (or commit/rollback in &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 38.8639em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0031em;">the one-phase optimized case)." &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9666em;top: 40.2739em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.2957em;">• Various</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0068em;">&nbsp;</span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0017em;">update of stale material, version updates, etc. &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:8.2867em;top: 43.4305em; "><span class="stl_150 stl_99 stl_10">B.3 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:14.2843em;top: 43.4305em; "><span class="stl_150 stl_99 stl_37" style="word-spacing:0.0016em;">Changes for Version 1.1 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 45.7739em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:0.295em;">• Section</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0055em;">&nbsp;</span><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0002em;">3.4, “XAResource Interface”: The line "The transaction manager ob- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 46.9439em; "><span class="stl_26 stl_09 stl_23" style="word-spacing:0.0127em;">tains an </span><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_250">e</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0012em;">for each resource manager participating in a global &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 48.1139em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0023em;">transaction." has been changed to "The transaction manager obtains an &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">42 &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5366em;top: 5.2341em; "><span class="stl_178 stl_179 stl_92">XAResourc</span><span class="stl_178 stl_179 stl_258">e</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0022em;">for each transaction resource participating in a global transac- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 6.4039em; "><span class="stl_26 stl_09 stl_64">tion.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 7.8139em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.UserTransaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 8.9841em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0051em;">, replace the first paragraph of the description &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 10.1539em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0053em;">with "Modify the timeout value that is associated with transactions started by &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 11.3139em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0033em;">subsequent invocations of the begin method by the current thread.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 12.7339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_45">javax.transaction.TransactionManager</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 13.9041em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0051em;">, replace the first paragraph of the description &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 15.0639em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0053em;">with "Modify the timeout value that is associated with transactions started by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 16.2339em; "><span class="stl_26 stl_09 stl_122" style="word-spacing:0.0033em;">subsequent invocations of the begin method by the current thread.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 17.6539em; "><span class="stl_26 stl_09 stl_123" style="word-spacing:0.291em;">• New</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0015em;">&nbsp;</span><span class="stl_26 stl_09 stl_57">interface &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:7.5367em;top: 18.8864em; "><span class="stl_178 stl_179 stl_102">javax.transaction.TransactionSynchronizationRegistry &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 20.2339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Synchronization</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 21.4041em; "><span class="stl_178 stl_179 stl_116">beforeCompletion</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0027em;">, add the following description: "An unchecked excep- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 22.5639em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0017em;">tion thrown by a registered </span><span class="stl_178 stl_179 stl_92">Synchronizatio</span><span class="stl_178 stl_179 stl_356">n</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0073em;">object causes the transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 23.7339em; "><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0366em;">to be aborted. That is, upon encountering an unchecked exception thrown by a &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 24.9039em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0028em;">registered synchronization object, the transaction manager must mark the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 26.0639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0068em;">transaction for rollback.". &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:6.0367em;top: 29.2205em; "><span class="stl_150 stl_99 stl_10">B.4 &nbsp;</span></div>
					<div class="stl_01 stl_149" style="left:12.0343em;top: 29.2205em; "><span class="stl_150 stl_99 stl_53" style="word-spacing:0.0019em;">Changes for Version 1.0.1B &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 31.5639em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:0.294em;">• Removed</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.049em;">&nbsp;</span><span class="stl_26 stl_09 stl_55" style="word-spacing:-0.0371em;">the method modifier </span><span class="stl_178 stl_179 stl_92">abstrac</span><span class="stl_178 stl_179 stl_357">t</span><span class="stl_26 stl_09 stl_114" style="word-spacing:-0.0463em;">from all interface methods, since in- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 32.7339em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0047em;">terface methods are implicitly abstract. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 34.1539em; "><span class="stl_26 stl_09 stl_358" style="word-spacing:0.332em;">• Table</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.025em;">&nbsp;</span><span class="stl_26 stl_09 stl_359" style="word-spacing:-0.0148em;">1, row 1 (</span><span class="stl_178 stl_179 stl_116">TMJOIN</span><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0033em;">) : move transaction association (</span><span class="stl_178 stl_179 stl_116">T1</span><span class="stl_26 stl_09 stl_94" style="word-spacing:-0.0029em;">) from column 3 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 35.3139em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0022em;">(association suspended) to column 1 (not associated). &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 36.7339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Synchronization</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:7.5367em;top: 37.9041em; "><span class="stl_178 stl_179 stl_116">beforeCompletion</span><span class="stl_26 stl_09 stl_122" style="word-spacing:-0.0294em;">, change the following phrase in the description "start of &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 39.0639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0021em;">the transaction completion process" to "start of the two-phase transaction &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 40.2339em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0061em;">commit process". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 41.6539em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Transaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">commit</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, added &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:7.5367em;top: 42.8141em; "><span class="stl_178 stl_179 stl_57">IllegalStateExceptio</span><span class="stl_178 stl_179 stl_360">n</span><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0092em;">to throws clause. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 44.2339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Transaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">commit</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0017em;">, replace &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 45.4039em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:0.0007em;">the description of </span><span class="stl_178 stl_179 stl_92">HeuristicRollbackExceptio</span><span class="stl_178 stl_179 stl_361">n</span><span class="stl_26 stl_09 stl_223" style="word-spacing:-0.007em;">with "Thrown to indi- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 46.5739em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0306em;">cate that a heuristic decision was made and that all relevant updates have been &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 47.7339em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0075em;">rolled back.". &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:39.7967em;top: 2.529em; "><span class="stl_08 stl_09 stl_80">43 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 5.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Transaction</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0024em;">, change spelling of &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 6.5241em; "><span class="stl_178 stl_179 stl_92">Transactioi</span><span class="stl_178 stl_179 stl_362">n</span><span class="stl_26 stl_09 stl_363" style="word-spacing:-0.0168em;">to </span><span class="stl_178 stl_179 stl_92">Transactio</span><span class="stl_178 stl_179 stl_228">n</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0079em;">in interface description. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9666em;top: 7.9439em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Transaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:9.7867em;top: 9.1141em; "><span class="stl_178 stl_179 stl_116">registerSynchronization</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0028em;">, first paragraph, line 2, change the phrase &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 10.2739em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0009em;">"transaction completion process" to "two-phase transaction commit process". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 11.6939em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.Transaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">rollback</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0004em;">, spell- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 12.8639em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:-0.0418em;">ing correction to method signature description, change </span><span class="stl_178 stl_179 stl_92">SyetemExceptio</span><span class="stl_178 stl_179 stl_364">n</span><span class="stl_26 stl_09 stl_74">to &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:9.7867em;top: 14.0964em; "><span class="stl_178 stl_179 stl_52">SystemException &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:17.2867em;top: 14.0239em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 15.4439em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_45">javax.transaction.TransactionManager</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_92">commit &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:37.6567em;top: 15.4439em; "><span class="stl_26 stl_09 stl_10">,</span></div>
					<div class="stl_01 stl_25" style="left:9.7867em;top: 16.6139em; "><span class="stl_26 stl_09 stl_95" style="word-spacing:0.0056em;">replace the description of </span><span class="stl_178 stl_179 stl_29">HeuristicRollbackExceptio</span><span class="stl_178 stl_179 stl_365">n</span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0032em;">with “Thrown &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 17.7739em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0014em;">to indicate that a heuristic decision was made and that all relevant updates &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 18.9439em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0005em;">have been rolled back.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 20.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_45">javax.transaction.TransactionManager</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 21.5241em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0051em;">, replace the first paragraph of the description &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 22.6939em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0054em;">with "Modify the timeout value that is associated with transactions started by &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 23.8639em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0048em;">subsequent invocations of the begin method.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 25.2739em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_45">javax.transaction.TransactionManager</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 26.4441em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0031em;">, replace the description of method parameter &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 27.6141em; "><span class="stl_178 stl_179 stl_92">second</span><span class="stl_178 stl_179 stl_256">s</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0016em;">with "The value of the timeout in seconds. If the value is zero, the &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 28.7739em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0037em;">transaction service restores the default value. If the value is negative a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 29.9441em; "><span class="stl_178 stl_179 stl_52">SystemExceptio</span><span class="stl_178 stl_179 stl_185">n</span><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0087em;">is thrown.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 31.3639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.UserTransaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">commit</span><span class="stl_26 stl_09 stl_21" style="word-spacing:0.001em;">, re- &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 32.5239em; "><span class="stl_26 stl_09 stl_84" style="word-spacing:0.002em;">place the description of </span><span class="stl_178 stl_179 stl_29">HeuristicRollbackExceptio</span><span class="stl_178 stl_179 stl_365">n</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0034em;">with "Thrown to &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 33.6939em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0022em;">indicate that a heuristic decision was made and that all relevant updates have &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 34.8639em; "><span class="stl_26 stl_09 stl_29" style="word-spacing:0.0039em;">been rolled back.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 36.2739em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.UserTransaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 37.4441em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.0051em;">, replace the first paragraph of the description &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7867em;top: 38.6139em; "><span class="stl_26 stl_09 stl_112" style="word-spacing:-0.0054em;">with "Modify the timeout value that is associated with transactions started by &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:9.7867em;top: 39.7739em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.006em;">subsequent invocations of the </span><span class="stl_178 stl_179 stl_59">begi</span><span class="stl_178 stl_179 stl_366">n</span><span class="stl_26 stl_09 stl_28">method.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 41.1939em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.UserTransaction</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 42.3641em; "><span class="stl_178 stl_179 stl_116">setTransactionTimeout</span><span class="stl_26 stl_09 stl_28" style="word-spacing:-0.0031em;">, replace the description of method parameter &nbsp;</span></div>
					<div class="stl_01 stl_20" style="left:9.7867em;top: 43.5241em; "><span class="stl_178 stl_179 stl_92">second</span><span class="stl_178 stl_179 stl_256">s</span><span class="stl_26 stl_09 stl_121" style="word-spacing:-0.004em;">with “The value of the timeout in seconds. If the value is zero, the &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 44.6939em; "><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0037em;">transaction service restores the default value. If the value is negative a &nbsp;</span></div>
					<div class="stl_01 stl_22" style="left:9.7867em;top: 45.8641em; "><span class="stl_178 stl_179 stl_52">SystemExceptio</span><span class="stl_178 stl_179 stl_185">n</span><span class="stl_26 stl_09 stl_128" style="word-spacing:-0.0098em;">is thrown.” &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:8.9667em;top: 47.2739em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.019em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">commit</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0004em;">, insert &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:9.7866em;top: 48.4439em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:0.0034em;">return type </span><span class="stl_178 stl_179 stl_92">voi</span><span class="stl_178 stl_179 stl_287">d</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0005em;">to method signature description. &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01 stl_07" style="left:3.7066em;top: 2.609em; "><span class="stl_08 stl_09 stl_80">44 &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 5.2339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">commit</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0004em;">, spell- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 6.4039em; "><span class="stl_26 stl_09 stl_114" style="word-spacing:0.0036em;">ing correction to description, change </span><span class="stl_178 stl_179 stl_64">paramethe</span><span class="stl_178 stl_179 stl_335">r</span><span class="stl_26 stl_09 stl_363" style="word-spacing:-0.0168em;">to </span><span class="stl_178 stl_179 stl_92">parameter &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:31.7867em;top: 6.4039em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 7.8139em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">end</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.004em;">, replace re- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 8.9839em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0058em;">turn type </span><span class="stl_178 stl_179 stl_92">in</span><span class="stl_178 stl_179 stl_253">t</span><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0035em;">with </span><span class="stl_178 stl_179 stl_92">voi</span><span class="stl_178 stl_179 stl_231">d</span><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0005em;">in method signature description. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 10.4039em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">end</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.001em;">, corrected &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 11.5639em; "><span class="stl_26 stl_09 stl_44" style="word-spacing:0.0061em;">spelling of </span><span class="stl_178 stl_179 stl_92">XAExceptio</span><span class="stl_178 stl_179 stl_214">n</span><span class="stl_26 stl_09 stl_94" style="word-spacing:0.003em;">errorCode </span><span class="stl_178 stl_179 stl_92">XAER_RMFAILE</span><span class="stl_178 stl_179 stl_345">D</span><span class="stl_26 stl_09 stl_74" style="word-spacing:0.0132em;">to </span><span class="stl_178 stl_179 stl_92">XAER_RMFAIL &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:34.4967em;top: 11.5639em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 12.9839em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_367">recover</span><span class="stl_26 stl_09 stl_368" style="word-spacing:-0.0144em;">, spell- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 14.1539em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0019em;">ing correction to method signature description, replace return type </span><span class="stl_178 stl_179 stl_92">xid[] &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 15.3139em; "><span class="stl_26 stl_09 stl_40" style="word-spacing:0.0033em;">with </span><span class="stl_178 stl_179 stl_92">Xid[] &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:11.8967em;top: 15.3139em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 16.7339em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_116">rollback</span><span class="stl_26 stl_09 stl_203" style="word-spacing:-0.007em;">, add &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 17.9039em; "><span class="stl_26 stl_09 stl_27" style="word-spacing:-0.0052em;">the following to the description of </span><span class="stl_178 stl_179 stl_21">XAException</span><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0036em;">, "Possible </span><span class="stl_178 stl_179 stl_92">XAExceptions &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5366em;top: 19.0639em; "><span class="stl_26 stl_09 stl_21" style="word-spacing:0.0054em;">are </span><span class="stl_178 stl_179 stl_92">XA_HEURHAZ &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:13.8867em;top: 19.0639em; "><span class="stl_26 stl_09 stl_10">,</span></div>
					<div class="stl_01 stl_187" style="left:14.3467em;top: 19.0641em; "><span class="stl_178 stl_179 stl_57">XA_HEURCOM</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0065em;">, </span><span class="stl_178 stl_179 stl_116">XA_HEURRB</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0065em;">, </span><span class="stl_178 stl_179 stl_57">XA_HEURMIX</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0065em;">, </span><span class="stl_178 stl_179 stl_116">XAER_RMERR</span><span class="stl_26 stl_09 stl_40">, &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 20.2341em; "><span class="stl_178 stl_179 stl_116">XAER_RMFAIL</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0065em;">, </span><span class="stl_178 stl_179 stl_92">XAER_NOTA &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:17.9967em;top: 20.2339em; "><span class="stl_26 stl_09 stl_10">,</span></div>
					<div class="stl_01 stl_187" style="left:18.4467em;top: 20.2341em; "><span class="stl_178 stl_179 stl_116">XAER_INVAL</span><span class="stl_26 stl_09 stl_119" style="word-spacing:-0.0082em;">, or </span><span class="stl_178 stl_179 stl_116">XAER_PROTO</span><span class="stl_26 stl_09 stl_125" style="word-spacing:-0.0062em;">. Upon return, &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 21.4039em; "><span class="stl_26 stl_09 stl_43" style="word-spacing:0.0068em;">the resource manager has rolled back the branch’s work and has released all &nbsp;</span></div>
					<div class="stl_01 stl_115" style="left:7.5367em;top: 22.5639em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0077em;">held resources.". &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 23.9839em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2972em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:-0.014em;">&nbsp;</span><span class="stl_178 stl_179 stl_116">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_93" style="word-spacing:-0.0274em;">, spelling correction to de- &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:7.5367em;top: 25.1539em; "><span class="stl_26 stl_09 stl_102" style="word-spacing:0.0021em;">scription, replace </span><span class="stl_178 stl_179 stl_92">TMNOFLA</span><span class="stl_178 stl_179 stl_369">G</span><span class="stl_26 stl_09 stl_40" style="word-spacing:-0.0075em;">with </span><span class="stl_178 stl_179 stl_42">TMNOFLAGS &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:24.6567em;top: 25.1539em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 26.5639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAResource</span><span class="stl_26 stl_09 stl_204" style="word-spacing:-0.0063em;">, added constants </span><span class="stl_178 stl_179 stl_92">XA_OK &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 27.7339em; "><span class="stl_26 stl_09 stl_49" style="word-spacing:0.0176em;">and </span><span class="stl_178 stl_179 stl_92">XA_RDONL</span><span class="stl_178 stl_179 stl_370">Y</span><span class="stl_26 stl_09 stl_92" style="word-spacing:-0.0002em;">to be consistent with the actual interface definition. &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:6.7166em;top: 29.1539em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_102">javax.transaction.xa.Xid</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.002em;">, method &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 30.3141em; "><span class="stl_178 stl_179 stl_116">getGlobalTransactionId</span><span class="stl_26 stl_09 stl_84" style="word-spacing:0.0012em;">, spelling correction to method signature de- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5366em;top: 31.4839em; "><span class="stl_26 stl_09 stl_116" style="word-spacing:-0.0007em;">scription, corrected method name from </span><span class="stl_178 stl_179 stl_92">getGri</span><span class="stl_178 stl_179 stl_256">d</span><span class="stl_26 stl_09 stl_74">to &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:7.5367em;top: 32.7264em; "><span class="stl_178 stl_179 stl_21">getGlobalTransactionId &nbsp;</span></div>
					<div class="stl_01 stl_127" style="left:6.7167em;top: 34.0639em; "><span class="stl_26 stl_09 stl_57" style="word-spacing:0.2973em;">• Interface</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0191em;">&nbsp;</span><span class="stl_178 stl_179 stl_102">javax.transaction.xa.Xid</span><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0047em;">, method </span><span class="stl_178 stl_179 stl_57">getBranchQualifier &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 35.2339em; "><span class="stl_26 stl_09 stl_92" style="word-spacing:0.0015em;">spelling correction to method signature description, corrected method name &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 36.4039em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:-0.0009em;">from </span><span class="stl_178 stl_179 stl_43">getEqua</span><span class="stl_178 stl_179 stl_242">l</span><span class="stl_26 stl_09 stl_363" style="word-spacing:-0.0168em;">to </span><span class="stl_178 stl_179 stl_92">getBranchQualifier &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:18.5367em;top: 32.6539em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:35.4067em;top: 34.0639em; "><span class="stl_26 stl_09 stl_10">,</span></div>
					<div class="stl_01 stl_25" style="left:23.6667em;top: 36.4039em; "><span class="stl_26 stl_09 stl_10">.</span></div>
					<div class="stl_01 stl_25" style="left:6.7167em;top: 37.8139em; "><span class="stl_26 stl_09 stl_133" style="word-spacing:0.294em;">• Class</span><span class="stl_26 stl_09 stl_10" style="word-spacing:0.0081em;">&nbsp;</span><span class="stl_178 stl_179 stl_27">javax.transaction.xa.XAException</span><span class="stl_26 stl_09 stl_57" style="word-spacing:0.0034em;">, spelling correction to de- &nbsp;</span></div>
					<div class="stl_01 stl_110" style="left:7.5367em;top: 38.9839em; "><span class="stl_26 stl_09 stl_90" style="word-spacing:-0.0037em;">scription of interface definition, replace phrase &nbsp;</span></div>
					<div class="stl_01 stl_187" style="left:7.5367em;top: 40.1541em; "><span class="stl_178 stl_179 stl_29">javax.transaction.xa.XAExceptio</span><span class="stl_178 stl_179 stl_371">n</span><span class="stl_26 stl_09 stl_40">with &nbsp;</span></div>
					<div class="stl_01 stl_183" style="left:7.5367em;top: 41.3864em; "><span class="stl_178 stl_179 stl_29">javax.transaction.xa.XAException &nbsp;</span></div>
					<div class="stl_01 stl_25" style="left:23.5367em;top: 41.3139em; "><span class="stl_26 stl_09 stl_10">.</span></div>
				</div>
			</div>
		</div>
	</body>
</html>